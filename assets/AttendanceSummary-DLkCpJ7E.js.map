{"version":3,"file":"AttendanceSummary-DLkCpJ7E.js","sources":["../../src/pages/admin/AttendanceSummary.tsx"],"sourcesContent":["/**\r\n * AttendanceSummary Page (Admin)\r\n * Displays a summary of all students' attendance by class and by student\r\n * Features: Sorting, Search/Filter, and Pagination\r\n */\r\n\r\nimport React, { useState, useMemo } from 'react';\r\nimport { useQuery } from '@tanstack/react-query';\r\nimport {\r\n  CheckCircle,\r\n  XCircle,\r\n  Clock,\r\n  AlertCircle,\r\n  ClockAlert,\r\n  Users,\r\n  Calendar,\r\n  Loader2,\r\n  TrendingUp,\r\n  Filter,\r\n  User as UserIcon,\r\n  ChevronDown,\r\n  ChevronUp,\r\n  Download,\r\n  X,\r\n} from 'lucide-react';\r\nimport { apiService } from '@/services/api';\r\nimport { useTranslation } from '@/contexts/LanguageContext';\r\nimport type {\r\n  ClassAttendanceSummary,\r\n  StudentAttendanceSummary,\r\n  OverallAttendanceStats,\r\n} from '@/types';\r\n\r\ntype TabType = 'by-class' | 'by-student';\r\n\r\ntype SortFieldClass = 'class_name' | 'course_name' | 'attendance' | 'students' | 'meetings' | 'percentage';\r\ntype SortFieldStudent = 'name' | 'nim' | 'program' | 'percentage' | 'classes_count';\r\ntype SortField = SortFieldClass | SortFieldStudent;\r\ntype SortOrder = 'asc' | 'desc';\r\n\r\ninterface PaginationParams {\r\n  page: number;\r\n  limit: number;\r\n  total: number;\r\n}\r\n\r\nconst AttendanceSummary: React.FC = () => {\r\n  const { t } = useTranslation();\r\n  const [activeTab, setActiveTab] = useState<TabType>('by-class');\r\n  const [selectedSemester, setSelectedSemester] = useState<string>('');\r\n  const [selectedProgram, setSelectedProgram] = useState<string>('');\r\n\r\n  // Sorting state\r\n  const [sortField, setSortField] = useState<SortField>('class_name');\r\n  const [sortOrder, setSortOrder] = useState<SortOrder>('asc');\r\n\r\n  // Pagination state\r\n  const [pagination, setPagination] = useState<PaginationParams>({\r\n    page: 1,\r\n    limit: 20,\r\n    total: 0,\r\n  });\r\n\r\n  // Search state for by-student tab\r\n  const [searchQuery, setSearchQuery] = useState<string>('');\r\n\r\n  // Fetch attendance summary using the dedicated API endpoint\r\n  const { data: summaryData, isLoading, error, refetch } = useQuery({\r\n    queryKey: ['admin-attendance-summary', selectedSemester, selectedProgram],\r\n    queryFn: async () => {\r\n      return await apiService.getAttendanceSummary({\r\n        semester: selectedSemester || undefined,\r\n        program: selectedProgram || undefined,\r\n      });\r\n    },\r\n    enabled: true,\r\n  });\r\n\r\n  // Get overall stats\r\n  const overallStats = summaryData?.overall_stats as OverallAttendanceStats | undefined;\r\n\r\n  // Process and sort data for By Class tab\r\n  const byClassData = useMemo(() => {\r\n    const data = summaryData?.by_class || [];\r\n\r\n    // Sort data\r\n    const sorted = [...data].sort((a: ClassAttendanceSummary, b: ClassAttendanceSummary) => {\r\n      let comparison = 0;\r\n\r\n      switch (sortField as SortFieldClass) {\r\n        case 'class_name':\r\n          comparison = (a.class_name || '').localeCompare(b.class_name || '');\r\n          break;\r\n        case 'course_name':\r\n          comparison = (a.course_name || '').localeCompare(b.course_name || '');\r\n          break;\r\n        case 'attendance':\r\n          comparison = (b.percentage - 0) - (a.percentage - 0);\r\n          break;\r\n        case 'students':\r\n          comparison = (a.total_students || 0) - (b.total_students || 0);\r\n          break;\r\n        case 'meetings':\r\n          comparison = (a.total_meetings || 0) - (b.total_meetings || 0);\r\n          break;\r\n        case 'percentage':\r\n          comparison = (b.percentage || 0) - (a.percentage || 0);\r\n          break;\r\n        default:\r\n          comparison = 0;\r\n      }\r\n\r\n      return sortOrder === 'asc' ? comparison : -comparison;\r\n    });\r\n\r\n    // Update pagination total\r\n    setPagination((prev) => ({ ...prev, total: sorted.length }));\r\n\r\n    return sorted;\r\n  }, [summaryData?.by_class, sortField, sortOrder]);\r\n\r\n  // Process and sort data for By Student tab\r\n  const byStudentData = useMemo(() => {\r\n    const data = summaryData?.by_student || [];\r\n\r\n    // Apply search filter first\r\n    let filtered = data;\r\n    if (searchQuery) {\r\n      const query = searchQuery.toLowerCase();\r\n      filtered = data.filter((student: StudentAttendanceSummary) => {\r\n        return (\r\n          student.name.toLowerCase().includes(query) ||\r\n          student.nim.toLowerCase().includes(query)\r\n        );\r\n      });\r\n    }\r\n\r\n    // Sort filtered data\r\n    const sorted = [...filtered].sort((a: StudentAttendanceSummary, b: StudentAttendanceSummary) => {\r\n      let comparison = 0;\r\n\r\n      switch (sortField as SortFieldStudent) {\r\n        case 'name':\r\n          comparison = a.name.localeCompare(b.name);\r\n          break;\r\n        case 'nim':\r\n          comparison = a.nim.localeCompare(b.nim);\r\n          break;\r\n        case 'program':\r\n          comparison = (a.program || '').localeCompare(b.program || '');\r\n          break;\r\n        case 'percentage':\r\n          comparison = b.overall_percentage - a.overall_percentage;\r\n          break;\r\n        case 'classes_count':\r\n          comparison = a.classes.length - b.classes.length;\r\n          break;\r\n        default:\r\n          comparison = 0;\r\n      }\r\n\r\n      return sortOrder === 'asc' ? comparison : -comparison;\r\n    });\r\n\r\n    // Update pagination total\r\n    setPagination((prev) => ({ ...prev, total: sorted.length }));\r\n\r\n    return sorted;\r\n  }, [summaryData?.by_student, sortField, sortOrder, searchQuery]);\r\n\r\n  // Get current tab's data\r\n  const currentData = activeTab === 'by-class' ? byClassData : byStudentData;\r\n\r\n  // Calculate pagination\r\n  const totalPages = useMemo(() => {\r\n    if (currentData.length === 0) return 1;\r\n    return Math.ceil(currentData.length / pagination.limit);\r\n  }, [currentData.length, pagination.limit]);\r\n\r\n  // Paginate data\r\n  const paginatedData = useMemo(() => {\r\n    const startIndex = (pagination.page - 1) * pagination.limit;\r\n    const endIndex = startIndex + pagination.limit;\r\n    return currentData.slice(startIndex, endIndex);\r\n  }, [currentData, pagination.page, pagination.limit]);\r\n\r\n  const getSortIcon = (field: SortField, _currentTab: TabType) => {\r\n    const isSorted = sortField === field;\r\n    return (\r\n      <button\r\n        onClick={() => handleSort(field)}\r\n        className={`flex items-center gap-1 ${\r\n          isSorted ? 'text-blue-600' : 'text-gray-400'\r\n        } hover:text-blue-800`}\r\n        title={`Sort by ${field} (${sortOrder === 'asc' ? 'ascending' : 'descending'})`}\r\n      >\r\n        {sortOrder === 'asc' ? <ChevronUp className=\"h-4 w-4\" /> : <ChevronDown className=\"h-4 w-4\" />}\r\n      </button>\r\n    );\r\n  };\r\n\r\n  const getAttendanceColor = (percentage: number): string => {\r\n    if (percentage >= 80) return 'text-green-600 bg-green-50';\r\n    if (percentage >= 70) return 'text-yellow-600 bg-yellow-50';\r\n    return 'text-red-600 bg-red-50';\r\n  };\r\n\r\n  const handleSort = (field: SortField) => {\r\n    if (sortField === field) {\r\n      setSortOrder(sortOrder === 'asc' ? 'desc' : 'asc');\r\n    } else {\r\n      setSortField(field);\r\n      setSortOrder('asc');\r\n    }\r\n  };\r\n\r\n  const handlePageChange = (newPage: number) => {\r\n    setPagination((prev) => ({\r\n      ...prev,\r\n      page: newPage,\r\n    }));\r\n  };\r\n\r\n  const handleExportCSV = () => {\r\n    if (currentData.length === 0) return;\r\n\r\n    let csvContent: string[][] = [];\r\n\r\n    if (activeTab === 'by-class') {\r\n      csvContent = [\r\n        ['Class ID', 'Class Name', 'Course Code', 'Course Name', 'Students', 'Meetings', 'Hadir', 'Izin', 'Sakit', 'Terlambat', 'Alfa', 'Attendance %'],\r\n        ...(currentData as ClassAttendanceSummary[]).map((cls) => [\r\n          String(cls.class_id),\r\n          cls.class_name,\r\n          cls.course_code,\r\n          cls.course_name,\r\n          String(cls.total_students),\r\n          String(cls.total_meetings),\r\n          String(cls.attended),\r\n          String(cls.excused),\r\n          String(cls.sick),\r\n          String(cls.late),\r\n          String(cls.absent),\r\n          `${cls.percentage.toFixed(1)}%`,\r\n        ]),\r\n      ];\r\n    } else {\r\n      // Collect all unique course codes\r\n      const allCourses = new Set<string>();\r\n      (currentData as StudentAttendanceSummary[]).forEach((student) => {\r\n        student.classes.forEach((cls) => {\r\n          allCourses.add(cls.course_code);\r\n        });\r\n      });\r\n      const courseColumns = Array.from(allCourses).sort();\r\n\r\n      csvContent = [\r\n        ['NIM', 'Name', 'Program', 'Overall %', 'Total Classes', ...courseColumns.flatMap(c => [`${c} Attended`, `${c} Total`, `${c} %`])],\r\n        ...(currentData as StudentAttendanceSummary[]).map((student) => {\r\n          const classMap = new Map(student.classes.map((cls) => [cls.course_code, cls]));\r\n          return [\r\n            student.nim,\r\n            student.name,\r\n            student.program,\r\n            `${student.overall_percentage.toFixed(1)}%`,\r\n            String(student.classes.length),\r\n            ...courseColumns.flatMap((code) => {\r\n              const cls = classMap.get(code);\r\n              return cls ? [String(cls.attended), String(cls.total_meetings), `${cls.percentage.toFixed(1)}%`] : ['', '', ''];\r\n            }),\r\n          ];\r\n        }),\r\n      ];\r\n    }\r\n\r\n    const csvString = csvContent.map((row) => row.join(',')).join('\\n');\r\n    const blob = new Blob([csvString], { type: 'text/csv' });\r\n    const url = URL.createObjectURL(blob);\r\n    const link = document.createElement('a');\r\n    link.href = url;\r\n    link.download = `attendance-summary-${activeTab}-${new Date().toISOString().split('T')[0]}.csv`;\r\n    link.click();\r\n    URL.revokeObjectURL(url);\r\n  };\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <div className=\"flex flex-col items-center justify-center py-12\">\r\n        <Loader2 className=\"h-8 w-8 animate-spin text-blue-600\" />\r\n        <p className=\"text-gray-600 mt-4\">Loading attendance summary...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"space-y-6\">\r\n        <div className=\"bg-red-50 border border-red-200 rounded-lg p-4\">\r\n          <p className=\"text-red-800\">Error loading attendance summary: {(error as Error).message}</p>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">{t('sidebar.attendanceSummary')}</h1>\r\n          <p className=\"text-gray-600 mt-1\">Overview of student attendance by class and student</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Filters */}\r\n      <div className=\"card p-4\">\r\n        <div className=\"flex flex-wrap gap-4 items-center\">\r\n          <Filter className=\"h-5 w-5 text-gray-400\" />\r\n          <div className=\"flex-1 min-w-[200px]\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Semester</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"e.g., 2024-2025 Ganjil\"\r\n              value={selectedSemester}\r\n              onChange={(e) => setSelectedSemester(e.target.value)}\r\n              className=\"input-field\"\r\n            />\r\n          </div>\r\n          <div className=\"flex-1 min-w-[200px]\">\r\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Program</label>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"e.g., IF\"\r\n              value={selectedProgram}\r\n              onChange={(e) => setSelectedProgram(e.target.value)}\r\n              className=\"input-field\"\r\n            />\r\n          </div>\r\n          {activeTab === 'by-student' && (\r\n            <div className=\"flex-1 min-w-[300px]\">\r\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Search Students</label>\r\n              <div className=\"relative\">\r\n                <UserIcon className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                <input\r\n                  type=\"text\"\r\n                  placeholder=\"Search by name or NIM...\"\r\n                  value={searchQuery}\r\n                  onChange={(e) => setSearchQuery(e.target.value)}\r\n                  className=\"input-field pl-10\"\r\n                />\r\n                {searchQuery && (\r\n                  <button\r\n                    onClick={() => setSearchQuery('')}\r\n                    className=\"absolute right-3 top-1/2 p-1 text-gray-400 hover:text-gray-600\"\r\n                    title=\"Clear search\"\r\n                  >\r\n                    <X className=\"h-4 w-4\" />\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Overall Stats Cards */}\r\n      {overallStats && (\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n          <div className={`card p-4 border-l-4 ${getAttendanceColor(overallStats.average_attendance)}`}>\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"bg-blue-100 p-3 rounded-lg\">\r\n                <TrendingUp className=\"h-6 w-6 text-blue-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Average Attendance</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{overallStats.average_attendance.toFixed(1)}%</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-4\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"bg-green-100 p-3 rounded-lg\">\r\n                <Users className=\"h-6 w-6 text-green-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Total Students</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{overallStats.total_students}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-4\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"bg-purple-100 p-3 rounded-lg\">\r\n                <Calendar className=\"h-6 w-6 text-purple-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Total Classes</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{overallStats.total_classes}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"card p-4\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"bg-orange-100 p-3 rounded-lg\">\r\n                <Calendar className=\"h-6 w-6 text-orange-600\" />\r\n              </div>\r\n              <div>\r\n                <p className=\"text-sm text-gray-600\">Total Meetings</p>\r\n                <p className=\"text-2xl font-bold text-gray-900\">{overallStats.total_meetings}</p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Action Bar */}\r\n      <div className=\"flex justify-between items-center\">\r\n        <div>\r\n          <h2 className=\"text-lg font-semibold text-gray-900\">\r\n            {activeTab === 'by-class' ? 'Class Attendance' : 'Student Attendance'}\r\n          </h2>\r\n          <p className=\"text-sm text-gray-500\">\r\n            Showing {currentData.length} {activeTab === 'by-class' ? 'classes' : 'students'}\r\n          </p>\r\n        </div>\r\n\r\n        <div className=\"flex gap-2\">\r\n          {/* Export Button */}\r\n          <button\r\n            onClick={handleExportCSV}\r\n            className=\"btn-secondary flex items-center gap-2\"\r\n            disabled={currentData.length === 0}\r\n            title={`Export ${activeTab === 'by-class' ? 'Classes' : 'Students'} to CSV`}\r\n          >\r\n            <Download className=\"h-4 w-4\" />\r\n            <span>Export CSV</span>\r\n          </button>\r\n\r\n          {/* Refresh Button */}\r\n          <button\r\n            onClick={() => refetch()}\r\n            className=\"btn-secondary flex items-center gap-2\"\r\n            title=\"Refresh data\"\r\n          >\r\n            <Users className=\"h-4 w-4\" />\r\n            <span>Refresh</span>\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Tabs */}\r\n      <div className=\"card\">\r\n        <div className=\"border-b border-gray-200\">\r\n          <nav className=\"flex space-x-8\" aria-label=\"Tabs\">\r\n            <button\r\n              onClick={() => {\r\n                setActiveTab('by-class');\r\n                setPagination((prev) => ({ ...prev, page: 1 }));\r\n                setSortField('class_name');\r\n              }}\r\n              className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                activeTab === 'by-class'\r\n                  ? 'border-blue-600 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\r\n              }`}\r\n            >\r\n              By Class\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setActiveTab('by-student');\r\n                setPagination((prev) => ({ ...prev, page: 1 }));\r\n                setSortField('name');\r\n              }}\r\n              className={`py-4 px-1 border-b-2 font-medium text-sm transition-colors ${\r\n                activeTab === 'by-student'\r\n                  ? 'border-blue-600 text-blue-600'\r\n                  : 'border-transparent text-gray-500 hover:text-gray-700'\r\n              }`}\r\n            >\r\n              By Student\r\n            </button>\r\n          </nav>\r\n        </div>\r\n\r\n        {/* Tab Content - By Class */}\r\n        {activeTab === 'by-class' && (\r\n          <div className=\"p-6\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center gap-1\">Class {getSortIcon('class_name', 'by-class')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center gap-1\">Course Name {getSortIcon('course_name', 'by-class')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center justify-center gap-1\">Students {getSortIcon('students', 'by-class')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center justify-center gap-1\">Meetings {getSortIcon('meetings', 'by-class')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center justify-center gap-1\">Attendance {getSortIcon('percentage', 'by-class')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      Breakdown\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {(paginatedData as ClassAttendanceSummary[]).map((cls, idx) => (\r\n                    <tr key={cls.class_id} className={idx === 0 ? 'border-t border-gray-300' : ''}>\r\n                      <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm font-medium text-gray-900\">{cls.class_name}</div>\r\n                      </td>\r\n                      <td className=\"px-4 py-4\">\r\n                        <div className=\"text-sm text-gray-900\">{cls.course_name}</div>\r\n                        <div className=\"text-xs text-gray-500\">{cls.course_code}</div>\r\n                      </td>\r\n                      <td className=\"px-4 py-4 text-center text-sm text-gray-900\">{cls.total_students}</td>\r\n                      <td className=\"px-4 py-4 text-center text-sm text-gray-900\">{cls.total_meetings}</td>\r\n                      <td className=\"px-4 py-4 text-center\">\r\n                        <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-bold ${getAttendanceColor(cls.percentage)}`}>\r\n                          {cls.percentage.toFixed(1)}%\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-4\">\r\n                        <div className=\"flex items-center justify-center gap-2 text-xs flex-wrap\">\r\n                          {cls.attended > 0 && (\r\n                            <span className=\"flex items-center gap-1 text-green-600\" title=\"Hadir (Present)\">\r\n                              <CheckCircle className=\"h-3 w-3\" /> {cls.attended}\r\n                            </span>\r\n                          )}\r\n                          {cls.excused > 0 && (\r\n                            <span className=\"flex items-center gap-1 text-blue-600\" title=\"Izin (Excused)\">\r\n                              <Clock className=\"h-3 w-3\" /> {cls.excused}\r\n                            </span>\r\n                          )}\r\n                          {cls.sick > 0 && (\r\n                            <span className=\"flex items-center gap-1 text-yellow-600\" title=\"Sakit (Sick)\">\r\n                              <AlertCircle className=\"h-3 w-3\" /> {cls.sick}\r\n                            </span>\r\n                          )}\r\n                          {cls.late > 0 && (\r\n                            <span className=\"flex items-center gap-1 text-orange-600\" title=\"Terlambat (Late)\">\r\n                              <ClockAlert className=\"h-3 w-3\" /> {cls.late}\r\n                            </span>\r\n                          )}\r\n                          {cls.absent > 0 && (\r\n                            <span className=\"flex items-center gap-1 text-red-600\" title=\"Alfa (Absent)\">\r\n                              <XCircle className=\"h-3 w-3\" /> {cls.absent}\r\n                            </span>\r\n                          )}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Tab Content - By Student */}\r\n        {activeTab === 'by-student' && (\r\n          <div className=\"p-6\">\r\n            <div className=\"overflow-x-auto\">\r\n              <table className=\"w-full\">\r\n                <thead className=\"bg-gray-50 border-b border-gray-200\">\r\n                  <tr>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center gap-1\">NIM {getSortIcon('nim', 'by-student')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center gap-1\">Name {getSortIcon('name', 'by-student')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center gap-1\">Program {getSortIcon('program', 'by-student')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center justify-center gap-1\">Classes {getSortIcon('classes_count', 'by-student')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                      <div className=\"flex items-center justify-center gap-1\">Overall {getSortIcon('percentage', 'by-student')}</div>\r\n                    </th>\r\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider min-w-[400px]\">\r\n                      Class Details\r\n                    </th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"bg-white divide-y divide-gray-200\">\r\n                  {(paginatedData as StudentAttendanceSummary[]).map((student, idx) => (\r\n                    <tr key={student.nim} className={idx === 0 ? 'border-t border-gray-300' : ''}>\r\n                      <td className=\"px-4 py-4 whitespace-nowrap\">\r\n                        <div className=\"text-sm font-medium text-gray-900\">{student.nim}</div>\r\n                      </td>\r\n                      <td className=\"px-4 py-4\">\r\n                        <div className=\"text-sm text-gray-900\">{student.name}</div>\r\n                      </td>\r\n                      <td className=\"px-4 py-4\">\r\n                        <span className=\"px-2 py-1 text-xs font-medium rounded bg-gray-100 text-gray-700\">\r\n                          {student.program}\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-4 text-center text-sm text-gray-900\">{student.classes.length}</td>\r\n                      <td className=\"px-4 py-4 text-center\">\r\n                        <span className={`inline-flex items-center px-3 py-1 rounded-full text-sm font-bold ${getAttendanceColor(student.overall_percentage)}`}>\r\n                          {student.overall_percentage.toFixed(1)}%\r\n                        </span>\r\n                      </td>\r\n                      <td className=\"px-4 py-4\">\r\n                        <div className=\"space-y-1\">\r\n                          {student.classes.map((cls) => (\r\n                            <div key={cls.class_id} className=\"space-y-1\">\r\n                              <div className=\"flex items-center gap-2 text-xs\">\r\n                                <div className=\"flex-1\">\r\n                                  <span className=\"font-medium text-gray-900\">{cls.course_code}</span>\r\n                                  <span className=\"text-gray-500 ml-1\">-</span>\r\n                                  <span className=\"text-gray-600\">{cls.course_name}</span>\r\n                                </div>\r\n                                <div className=\"flex items-center gap-1\">\r\n                                  <span className={`inline-flex items-center px-2 py-0.5 rounded text-xs font-semibold ${getAttendanceColor(cls.percentage)}`}>\r\n                                    {cls.percentage.toFixed(1)}%\r\n                                  </span>\r\n                                </div>\r\n                              </div>\r\n                              {/* Attendance breakdown */}\r\n                              <div className=\"flex items-center gap-2 text-xs pl-2\">\r\n                                {cls.excused !== undefined || cls.sick !== undefined || cls.late !== undefined || cls.absent !== undefined || cls.substitute !== undefined ? (\r\n                                  <>\r\n                                    {cls.attended > 0 && (\r\n                                      <span className=\"flex items-center gap-1 text-green-600\" title=\"Hadir (Present)\">\r\n                                        <CheckCircle className=\"h-3 w-3\" /> {cls.attended}\r\n                                      </span>\r\n                                    )}\r\n                                    {cls.excused !== undefined && cls.excused > 0 && (\r\n                                      <span className=\"flex items-center gap-1 text-blue-600\" title=\"Izin (Excused)\">\r\n                                        <Clock className=\"h-3 w-3\" /> {cls.excused}\r\n                                      </span>\r\n                                    )}\r\n                                    {cls.sick !== undefined && cls.sick > 0 && (\r\n                                      <span className=\"flex items-center gap-1 text-yellow-600\" title=\"Sakit (Sick)\">\r\n                                        <AlertCircle className=\"h-3 w-3\" /> {cls.sick}\r\n                                      </span>\r\n                                    )}\r\n                                    {cls.late !== undefined && cls.late > 0 && (\r\n                                      <span className=\"flex items-center gap-1 text-orange-600\" title=\"Terlambat (Late)\">\r\n                                        <ClockAlert className=\"h-3 w-3\" /> {cls.late}\r\n                                      </span>\r\n                                    )}\r\n                                    {cls.substitute !== undefined && cls.substitute > 0 && (\r\n                                      <span className=\"flex items-center gap-1 text-purple-600\" title=\"Pengganti (Substitute)\">\r\n                                        <CheckCircle className=\"h-3 w-3\" /> {cls.substitute}\r\n                                      </span>\r\n                                    )}\r\n                                    {cls.absent !== undefined && cls.absent > 0 && (\r\n                                      <span className=\"flex items-center gap-1 text-red-600\" title=\"Alfa (Absent)\">\r\n                                        <XCircle className=\"h-3 w-3\" /> {cls.absent}\r\n                                      </span>\r\n                                    )}\r\n                                    {(cls.absent !== undefined || cls.substitute !== undefined) && (\r\n                                      <>\r\n                                        <span className=\"text-gray-400\">/</span>\r\n                                        <span className=\"text-gray-600\">{cls.total_meetings}</span>\r\n                                      </>\r\n                                    )}\r\n                                  </>\r\n                                ) : (\r\n                                  <span className=\"text-gray-600\" title=\"Hadir\">\r\n                                    ✓{cls.attended} / {cls.total_meetings}\r\n                                  </span>\r\n                                )}\r\n                              </div>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Pagination */}\r\n        {totalPages > 1 && (\r\n          <div className=\"px-6 py-4 border-t border-gray-200\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <div className=\"text-sm text-gray-600\">\r\n                Showing {(pagination.page - 1) * pagination.limit + 1} to{' '}\r\n                {Math.min(pagination.page * pagination.limit, currentData.length)} of {currentData.length} results\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={() => handlePageChange(pagination.page - 1)}\r\n                  disabled={pagination.page === 1}\r\n                  className=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\r\n                >\r\n                  Previous\r\n                </button>\r\n                <span className=\"text-sm text-gray-600\">\r\n                  Page {pagination.page} of {totalPages}\r\n                </span>\r\n                <button\r\n                  onClick={() => handlePageChange(pagination.page + 1)}\r\n                  disabled={pagination.page === totalPages}\r\n                  className=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed text-sm\"\r\n                >\r\n                  Next\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {/* Legend */}\r\n      <div className=\"card p-4\">\r\n        <div className=\"flex items-center gap-6 text-sm text-gray-600 flex-wrap\">\r\n          <span className=\"font-medium text-gray-700\">Legend:</span>\r\n          <div className=\"flex items-center gap-1\">\r\n            <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n            <span>Present (Hadir)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <Clock className=\"h-4 w-4 text-blue-600\" />\r\n            <span>Excused (Izin)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <AlertCircle className=\"h-4 w-4 text-yellow-600\" />\r\n            <span>Sick (Sakit)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <ClockAlert className=\"h-4 w-4 text-orange-600\" />\r\n            <span>Late (Terlambat)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <CheckCircle className=\"h-4 w-4 text-red-600\" />\r\n            <span>Absent (Alfa)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <CheckCircle className=\"h-4 w-4 text-purple-600\" />\r\n            <span>Substitute (Pengganti)</span>\r\n          </div>\r\n          <div className=\"w-px h-4 bg-gray-300 mx-2\"></div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <div className=\"w-3 h-3 rounded-full bg-green-100\"></div>\r\n            <span className=\"text-green-600\">Good (≥80%)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <div className=\"w-3 h-3 rounded-full bg-yellow-100\"></div>\r\n            <span className=\"text-yellow-600\">Warning (≥70%)</span>\r\n          </div>\r\n          <div className=\"flex items-center gap-1\">\r\n            <div className=\"w-3 h-3 rounded-full bg-red-100\"></div>\r\n            <span className=\"text-red-600\">Poor (&lt;70%)</span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Empty State */}\r\n      {!isLoading && currentData.length === 0 && (\r\n        <div className=\"text-center py-12 card\">\r\n          <Calendar className=\"mx-auto h-12 w-12 text-gray-400 mb-4\" />\r\n          <p className=\"text-gray-500 text-lg\">No attendance data found</p>\r\n          <p className=\"text-gray-400 text-sm mt-2\">\r\n            {searchQuery ? 'Try adjusting your search query' : 'Try adjusting filters or check if classes have been created'}\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AttendanceSummary;\r\n"],"names":["AttendanceSummary","t","useTranslation","activeTab","setActiveTab","useState","selectedSemester","setSelectedSemester","selectedProgram","setSelectedProgram","sortField","setSortField","sortOrder","setSortOrder","pagination","setPagination","searchQuery","setSearchQuery","summaryData","isLoading","error","refetch","useQuery","apiService","overallStats","byClassData","useMemo","sorted","a","b","comparison","prev","byStudentData","data","filtered","query","student","currentData","totalPages","paginatedData","startIndex","endIndex","getSortIcon","field","_currentTab","isSorted","jsx","handleSort","ChevronUp","ChevronDown","getAttendanceColor","percentage","handlePageChange","newPage","handleExportCSV","csvContent","cls","allCourses","courseColumns","c","classMap","code","csvString","row","blob","url","link","jsxs","Loader2","Filter","e","UserIcon","X","TrendingUp","Users","Calendar","Download","idx","CheckCircle","Clock","AlertCircle","ClockAlert","XCircle","Fragment"],"mappings":"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"}