{"version":3,"file":"RoleManagement-CZKa3tPx.js","sources":["../../src/pages/guest/RoleManagement.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Plus, Clock, CheckCircle, XCircle, FileText, User, Send, Search } from 'lucide-react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport type { UserRole, RoleRequest } from '../../types';\r\n\r\ninterface RoleRequestFormData {\r\n  requestedRole: UserRole;\r\n  reason: string;\r\n}\r\n\r\ninterface FormErrors {\r\n  requestedRole?: string;\r\n  reason?: string;\r\n}\r\n\r\nconst RoleManagement: React.FC = () => {\r\n  const { user, submitRoleRequest, getRoleRequests } = useAuth();\r\n  const [activeTab, setActiveTab] = useState<'request' | 'status'>('request');\r\n  const [requests, setRequests] = useState<RoleRequest[]>([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [selectedStatus, setSelectedStatus] = useState<string>('all');\r\n  \r\n  // Form state\r\n  const [formData, setFormData] = useState<RoleRequestFormData>({\r\n    requestedRole: 'student',\r\n    reason: ''\r\n  });\r\n  const [errors, setErrors] = useState<FormErrors>({});\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [submitSuccess, setSubmitSuccess] = useState(false);\r\n\r\n  // Load role requests on component mount\r\n  useEffect(() => {\r\n    const loadRequests = async () => {\r\n      try {\r\n        const userRequests = await getRoleRequests();\r\n        setRequests(userRequests);\r\n      } catch (error) {\r\n        // silently ignore\r\n      }\r\n    };\r\n    loadRequests();\r\n  }, [getRoleRequests]);\r\n\r\n  const availableRoles: { value: UserRole; label: string; description: string }[] = [\r\n    { \r\n      value: 'student_applicant', \r\n      label: 'Student Applicant', \r\n      description: 'Apply for admission to academic programs' \r\n    },\r\n    { \r\n      value: 'student', \r\n      label: 'Student', \r\n      description: 'Access for enrolled students' \r\n    },\r\n    { \r\n      value: 'lecturer', \r\n      label: 'Lecturer', \r\n      description: 'Faculty members and teaching staff' \r\n    },\r\n    { \r\n      value: 'staff', \r\n      label: 'Staff', \r\n      description: 'Administrative and support staff' \r\n    },\r\n    { \r\n      value: 'alumni', \r\n      label: 'Alumni', \r\n      description: 'Graduates and former students' \r\n    },\r\n    { \r\n      value: 'admin', \r\n      label: 'Administrator', \r\n      description: 'System administration access' \r\n    }\r\n  ];\r\n\r\n  const validateForm = (): boolean => {\r\n    const newErrors: FormErrors = {};\r\n\r\n    if (!formData.requestedRole) {\r\n      newErrors.requestedRole = 'Please select a role';\r\n    }\r\n\r\n    if (!formData.reason.trim()) {\r\n      newErrors.reason = 'Please provide a reason for your role request';\r\n    } else if (formData.reason.trim().length < 20) {\r\n      newErrors.reason = 'Please provide a more detailed reason (at least 20 characters)';\r\n    }\r\n\r\n    setErrors(newErrors);\r\n    return Object.keys(newErrors).length === 0;\r\n  };\r\n\r\n  const handleSubmit = async (e: React.FormEvent) => {\r\n    e.preventDefault();\r\n    \r\n    if (!validateForm()) return;\r\n\r\n    setIsSubmitting(true);\r\n    setSubmitSuccess(false);\r\n\r\n    try {\r\n      await submitRoleRequest({\r\n        userId: user?.id || '',\r\n        requestedRole: formData.requestedRole,\r\n        currentRole: user?.role || 'guest',\r\n        reason: formData.reason\r\n      });\r\n      \r\n      // Reset form\r\n      setFormData({\r\n        requestedRole: 'student',\r\n        reason: ''\r\n      });\r\n      setErrors({});\r\n      setSubmitSuccess(true);\r\n      \r\n      // Refresh requests list\r\n      const updatedRequests = await getRoleRequests();\r\n      setRequests(updatedRequests);\r\n      \r\n      // Switch to status tab to show the new request\r\n      setActiveTab('status');\r\n\r\n    } catch (error) {\r\n      // silently ignore\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const getStatusColor = (status: string) => {\r\n    switch (status) {\r\n      case 'pending':\r\n        return 'bg-yellow-100 text-yellow-800';\r\n      case 'approved':\r\n        return 'bg-green-100 text-green-800';\r\n      case 'rejected':\r\n        return 'bg-red-100 text-red-800';\r\n      default:\r\n        return 'bg-gray-100 text-gray-800';\r\n    }\r\n  };\r\n\r\n  const getStatusIcon = (status: string) => {\r\n    switch (status) {\r\n      case 'pending':\r\n        return <Clock className=\"h-4 w-4\" />;\r\n      case 'approved':\r\n        return <CheckCircle className=\"h-4 w-4\" />;\r\n      case 'rejected':\r\n        return <XCircle className=\"h-4 w-4\" />;\r\n      default:\r\n        return <FileText className=\"h-4 w-4\" />;\r\n    }\r\n  };\r\n\r\n  const getRoleDisplayName = (role: string) => {\r\n    const roleNames = {\r\n      guest: 'Guest',\r\n      staff: 'Staff',\r\n      student_applicant: 'Student Applicant',\r\n      student: 'Student',\r\n      lecturer: 'Lecturer',\r\n      alumni: 'Alumni',\r\n      admin: 'Administrator'\r\n    };\r\n    return roleNames[role as keyof typeof roleNames] || role;\r\n  };\r\n\r\n  const filteredRequests = requests.filter(request => {\r\n    const matchesSearch = request.id.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n                         request.reason.toLowerCase().includes(searchTerm.toLowerCase());\r\n    const matchesStatus = selectedStatus === 'all' || request.status === selectedStatus;\r\n    return matchesSearch && matchesStatus;\r\n  });\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-6\">\r\n      {/* Header */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <div>\r\n          <h1 className=\"text-2xl font-bold text-gray-900\">Role Management</h1>\r\n          <p className=\"text-gray-600 mt-1\">Request new roles or check the status of your requests</p>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Success Message */}\r\n      {submitSuccess && (\r\n        <div className=\"bg-green-50 border border-green-200 rounded-lg p-4\">\r\n          <div className=\"flex items-center\">\r\n            <CheckCircle className=\"h-5 w-5 text-green-600 mr-2\" />\r\n            <span className=\"text-green-800 font-medium\">Role request submitted successfully!</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Tab Navigation */}\r\n      <div className=\"border-b border-gray-200\">\r\n        <nav className=\"-mb-px flex space-x-8\">\r\n          <button\r\n            onClick={() => setActiveTab('request')}\r\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n              activeTab === 'request'\r\n                ? 'border-primary-500 text-primary-600'\r\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n            }`}\r\n          >\r\n            <Plus className=\"h-4 w-4 inline mr-2\" />\r\n            Request Role\r\n          </button>\r\n          <button\r\n            onClick={() => setActiveTab('status')}\r\n            className={`py-2 px-1 border-b-2 font-medium text-sm ${\r\n              activeTab === 'status'\r\n                ? 'border-primary-500 text-primary-600'\r\n                : 'border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300'\r\n            }`}\r\n          >\r\n            <FileText className=\"h-4 w-4 inline mr-2\" />\r\n            Request Status\r\n            {requests.filter(r => r.status === 'pending').length > 0 && (\r\n              <span className=\"ml-2 bg-yellow-100 text-yellow-800 text-xs px-2 py-0.5 rounded-full\">\r\n                {requests.filter(r => r.status === 'pending').length}\r\n              </span>\r\n            )}\r\n          </button>\r\n        </nav>\r\n      </div>\r\n\r\n      {/* Request Role Tab */}\r\n      {activeTab === 'request' && (\r\n        <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n          <div className=\"mb-6\">\r\n            <h2 className=\"text-lg font-semibold text-gray-900 mb-2\">Request New Role</h2>\r\n            <p className=\"text-gray-600\">\r\n              Choose the role you would like to request and provide a detailed reason for your request.\r\n            </p>\r\n          </div>\r\n\r\n          <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n            {/* Current Role Display */}\r\n            <div className=\"bg-gray-50 rounded-lg p-4\">\r\n              <div className=\"flex items-center\">\r\n                <User className=\"h-5 w-5 text-gray-500 mr-2\" />\r\n                <span className=\"text-sm text-gray-600\">Current Role:</span>\r\n                <span className=\"ml-2 text-sm font-medium text-gray-900\">\r\n                  {getRoleDisplayName(user?.role || 'guest')}\r\n                </span>\r\n              </div>\r\n            </div>\r\n\r\n            {/* Role Selection */}\r\n            <div>\r\n              <label htmlFor=\"requestedRole\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Requested Role\r\n              </label>\r\n              <select\r\n                id=\"requestedRole\"\r\n                value={formData.requestedRole}\r\n                onChange={(e) => setFormData({ ...formData, requestedRole: e.target.value as UserRole })}\r\n                className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${\r\n                  errors.requestedRole ? 'border-red-300' : 'border-gray-300'\r\n                }`}\r\n              >\r\n                {availableRoles.map((role) => (\r\n                  <option key={role.value} value={role.value}>\r\n                    {role.label}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n              {errors.requestedRole && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.requestedRole}</p>\r\n              )}\r\n              \r\n              {/* Role Description */}\r\n              {formData.requestedRole && (\r\n                <div className=\"mt-2 p-3 bg-blue-50 rounded-lg\">\r\n                  <p className=\"text-sm text-blue-800\">\r\n                    {availableRoles.find(r => r.value === formData.requestedRole)?.description}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Reason */}\r\n            <div>\r\n              <label htmlFor=\"reason\" className=\"block text-sm font-medium text-gray-700 mb-2\">\r\n                Reason for Request\r\n              </label>\r\n              <textarea\r\n                id=\"reason\"\r\n                rows={4}\r\n                value={formData.reason}\r\n                onChange={(e) => setFormData({ ...formData, reason: e.target.value })}\r\n                placeholder=\"Please provide a detailed explanation for why you need this role...\"\r\n                className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${\r\n                  errors.reason ? 'border-red-300' : 'border-gray-300'\r\n                }`}\r\n              />\r\n              {errors.reason && (\r\n                <p className=\"mt-1 text-sm text-red-600\">{errors.reason}</p>\r\n              )}\r\n              <p className=\"mt-1 text-sm text-gray-500\">\r\n                Minimum 20 characters. Current: {formData.reason.length}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Submit Button */}\r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                type=\"submit\"\r\n                disabled={isSubmitting}\r\n                className=\"btn-primary flex items-center space-x-2 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n              >\r\n                <Send className=\"h-4 w-4\" />\r\n                <span>{isSubmitting ? 'Submitting...' : 'Submit Request'}</span>\r\n              </button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      )}\r\n\r\n      {/* Request Status Tab */}\r\n      {activeTab === 'status' && (\r\n        <div className=\"space-y-6\">\r\n          {/* Search and Filter */}\r\n          <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n            <div className=\"flex flex-col sm:flex-row gap-4\">\r\n              <div className=\"flex-1\">\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400\" />\r\n                  <input\r\n                    type=\"text\"\r\n                    placeholder=\"Search by request ID or reason...\"\r\n                    value={searchTerm}\r\n                    onChange={(e) => setSearchTerm(e.target.value)}\r\n                    className=\"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                  />\r\n                </div>\r\n              </div>\r\n              <div>\r\n                <select\r\n                  value={selectedStatus}\r\n                  onChange={(e) => setSelectedStatus(e.target.value)}\r\n                  className=\"px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500\"\r\n                >\r\n                  <option value=\"all\">All Status</option>\r\n                  <option value=\"pending\">Pending</option>\r\n                  <option value=\"approved\">Approved</option>\r\n                  <option value=\"rejected\">Rejected</option>\r\n                </select>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Requests List */}\r\n          <div className=\"space-y-4\">\r\n            {filteredRequests.length > 0 ? (\r\n              filteredRequests.map((request) => (\r\n                <div key={request.id} className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-6\">\r\n                  <div className=\"flex items-start justify-between mb-4\">\r\n                    <div>\r\n                      <div className=\"flex items-center space-x-3 mb-2\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900\">\r\n                          Request #{request.id}\r\n                        </h3>\r\n                        <span className={`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${getStatusColor(request.status)}`}>\r\n                          {getStatusIcon(request.status)}\r\n                          <span className=\"ml-1 capitalize\">{request.status}</span>\r\n                        </span>\r\n                      </div>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        <span className=\"font-medium\">Requested Role:</span> {getRoleDisplayName(request.requestedRole)}\r\n                      </p>\r\n                      <p className=\"text-sm text-gray-600\">\r\n                        <span className=\"font-medium\">Submitted:</span> {request.submittedAt}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n\r\n                  <div className=\"space-y-3\">\r\n                    <div>\r\n                      <h4 className=\"text-sm font-medium text-gray-900 mb-1\">Reason:</h4>\r\n                      <p className=\"text-sm text-gray-700\">{request.reason}</p>\r\n                    </div>\r\n\r\n                    {request.comments && (\r\n                      <div>\r\n                        <h4 className=\"text-sm font-medium text-gray-900 mb-1\">Comments:</h4>\r\n                        <p className=\"text-sm text-gray-700\">{request.comments}</p>\r\n                      </div>\r\n                    )}\r\n\r\n                    {request.reviewedAt && (\r\n                      <div className=\"text-sm text-gray-600\">\r\n                        <span className=\"font-medium\">Reviewed:</span> {request.reviewedAt}\r\n                        {request.reviewedBy && (\r\n                          <span> by {request.reviewedBy}</span>\r\n                        )}\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              ))\r\n            ) : (\r\n              <div className=\"bg-white rounded-lg shadow-sm border border-gray-200 p-12 text-center\">\r\n                <FileText className=\"h-12 w-12 text-gray-400 mx-auto mb-4\" />\r\n                <h3 className=\"text-lg font-medium text-gray-900 mb-2\">No role requests found</h3>\r\n                <p className=\"text-gray-600 mb-6\">\r\n                  {searchTerm || selectedStatus !== 'all' \r\n                    ? 'No requests match your search criteria.' \r\n                    : 'You haven\\'t submitted any role requests yet.'\r\n                  }\r\n                </p>\r\n                {!searchTerm && selectedStatus === 'all' && (\r\n                  <button\r\n                    onClick={() => setActiveTab('request')}\r\n                    className=\"btn-primary\"\r\n                  >\r\n                    Submit Your First Request\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RoleManagement;"],"names":["RoleManagement","user","submitRoleRequest","getRoleRequests","useAuth","activeTab","setActiveTab","useState","requests","setRequests","searchTerm","setSearchTerm","selectedStatus","setSelectedStatus","formData","setFormData","errors","setErrors","isSubmitting","setIsSubmitting","submitSuccess","setSubmitSuccess","useEffect","userRequests","availableRoles","validateForm","newErrors","handleSubmit","e","updatedRequests","getStatusColor","status","getStatusIcon","jsx","Clock","CheckCircle","XCircle","FileText","getRoleDisplayName","role","filteredRequests","request","matchesSearch","matchesStatus","jsxs","Plus","r","User","Send","Search"],"mappings":"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"}