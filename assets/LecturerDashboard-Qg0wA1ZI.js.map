{"version":3,"file":"LecturerDashboard-Qg0wA1ZI.js","sources":["../../src/pages/lecturer/LecturerDashboard.tsx"],"sourcesContent":["import React, { useEffect, useState, useMemo } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { Clock, CheckCircle, XCircle, User, Users, Loader } from 'lucide-react';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport { useQuery, useQueryClient } from '@tanstack/react-query';\r\nimport { useLecturerClasses } from '../../hooks/useClasses';\r\nimport { extractString, extractDate } from '../../utils/sqlNull';\r\nimport { apiService } from '../../services/api';\r\nimport AttendanceModal from '../../components/shared/AttendanceModal';\r\nimport { Card } from '../../components/ui';\r\n\r\ntype Day = 'Monday' | 'Tuesday' | 'Wednesday' | 'Thursday' | 'Friday';\r\n\r\ntype WeekDay = 'Sunday' | 'Monday' | 'Tuesday' | 'Wednesday' | 'Thursday' | 'Friday' | 'Saturday';\r\n\r\ninterface ScheduleItem {\r\n  id: string;\r\n  day: Day;\r\n  startTime: string;\r\n  endTime: string;\r\n  courseCode: string;\r\n  courseName: string;\r\n  className: string;\r\n  credits: number;\r\n  room: string;\r\n  topic: string;\r\n  weekNumber: number;\r\n  classId: number;\r\n  actualDate?: Date;\r\n  meetingId: number;\r\n}\r\n\r\n// Helper to extract day name from date string\r\nconst getDayFromDate = (dateValue: unknown): Day | null => {\r\n  const date = extractDate(dateValue as any);\r\n  if (!date) return null;\r\n  const dayIndex = date.getDay();\r\n  const daysMap: Record<number, Day> = {\r\n    1: 'Monday',\r\n    2: 'Tuesday',\r\n    3: 'Wednesday',\r\n    4: 'Thursday',\r\n    5: 'Friday',\r\n  };\r\n  return daysMap[dayIndex] || null;\r\n};\r\n\r\n// Helper to extract time from datetime string\r\nconst getTimeFromDate = (dateValue: unknown): string => {\r\n  const dateStr = extractString(dateValue as any);\r\n  if (!dateStr) return '00:00';\r\n  \r\n  const timePart = dateStr.split('T')[1]?.split('.')[0] || dateStr.split('T')[1]?.split('Z')[0];\r\n  if (timePart) {\r\n    return timePart.substring(0, 5);\r\n  }\r\n  const date = new Date(dateStr);\r\n  return date.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', hour12: false });\r\n};\r\n\r\n// Helper to get current week's start (Sunday) and end (Saturday)\r\nconst getCurrentWeekRange = (): { start: Date; end: Date } => {\r\n  const today = new Date();\r\n  const dayOfWeek = today.getDay();\r\n  \r\n  const daysToSunday = dayOfWeek === 0 ? 0 : dayOfWeek;\r\n  \r\n  const start = new Date(today);\r\n  start.setDate(today.getDate() - daysToSunday);\r\n  start.setHours(0, 0, 0, 0);\r\n  \r\n  const end = new Date(start);\r\n  end.setDate(start.getDate() + 6);\r\n  end.setHours(23, 59, 59, 999);\r\n  \r\n  return { start, end };\r\n};\r\n\r\nconst LecturerDashboard: React.FC = () => {\r\n  const { user, currentSemester } = useAuth();\r\n  const navigate = useNavigate();\r\n  const queryClient = useQueryClient();\r\n  const [thisWeekItems, setThisWeekItems] = useState<(ScheduleItem & { weekDay: WeekDay })[]>([]);\r\n  const [selectedMeeting, setSelectedMeeting] = useState<{\r\n    meetingId: number;\r\n    classId: number;\r\n    title: string;\r\n    subtitle: string;\r\n    dateLabel?: string;\r\n    meetingDateTime?: Date;\r\n    topic?: string;\r\n  } | null>(null);\r\n  const [togglingMeetingId, setTogglingMeetingId] = useState<number | null>(null);\r\n  const [optimisticToggles, setOptimisticToggles] = useState<Record<number, boolean>>({});\r\n\r\n  // Compute this week's range and fetch lecturer classes via React Query\r\n  const { start, end } = React.useMemo(() => getCurrentWeekRange(), []);\r\n  const startDay = start.toISOString().split('T')[0];\r\n  const endDay = end.toISOString().split('T')[0];\r\n\r\n  const { data: rawClasses, isLoading: loading } = useLecturerClasses(\r\n    user?.employeeId || '',\r\n    { semester: currentSemester, start_day: startDay, end_day: endDay }\r\n  );\r\n\r\n  // Use the new efficient meeting recap endpoint instead of N+1 queries\r\n  const { data: meetingRecapData, isLoading: meetingRecapLoading } = useQuery({\r\n    queryKey: ['lecturer-meeting-recap', user?.employeeId, currentSemester],\r\n    queryFn: async () => {\r\n      if (!user?.employeeId || !currentSemester) return null;\r\n      return await apiService.getLecturerMeetingRecap(user.employeeId, { semester: currentSemester });\r\n    },\r\n    enabled: Boolean(user?.employeeId && currentSemester),\r\n  });\r\n\r\n  // Compute meeting recap data from the efficient endpoint\r\n  const meetingRecaps = useMemo(() => {\r\n    if (!meetingRecapData?.classes) return [];\r\n    \r\n    return meetingRecapData.classes.map((classData: any) => ({\r\n      classId: classData.class_id,\r\n      courseCode: classData.kode_mk,\r\n      courseName: classData.course_name,\r\n      className: classData.class_name,\r\n      sksTatapMuka: classData.sks_tatap_muka,\r\n      sksPraktek: classData.sks_praktek,\r\n      sksPrakLapangan: classData.sks_prak_lapangan,\r\n      sksSimulasi: classData.sks_simulasi,\r\n      meetings: classData.meetings.map((meeting: any) => ({\r\n        id: meeting.id,\r\n        weekNumber: meeting.week_number,\r\n        date: meeting.tgl_pertemuan ? new Date(meeting.tgl_pertemuan) : null,\r\n        topic: meeting.topik,\r\n        studentAttendanceComplete: meeting.attendance_complete,\r\n        lecturerAssigned: meeting.lecturer_assigned,\r\n        totalStudents: classData.total_students,\r\n        recordedAttendances: meeting.recorded_attendances,\r\n        absensiAktif: meeting.absensi_aktif,\r\n      })),\r\n    }));\r\n  }, [meetingRecapData]);\r\n\r\n  useEffect(() => {\r\n    const items: ScheduleItem[] = [];\r\n    (rawClasses ?? []).forEach(classData => {\r\n      classData.meeting_schedules.forEach(meeting => {\r\n        const day = getDayFromDate(meeting.tgl_pertemuan);\r\n        \r\n        if (!day) return;\r\n        \r\n        const startTime = getTimeFromDate(meeting.jam_pertemuan);\r\n        const actualDate = extractDate(meeting.tgl_pertemuan as any);\r\n        \r\n        // Skip if no valid date\r\n        if (!actualDate) return;\r\n        \r\n        const totalSKS = classData.sks_tatap_muka + classData.sks_praktek + classData.sks_prak_lapangan + classData.sks_simulasi;\r\n        const durationMinutes = totalSKS * 60;\r\n        \r\n        const [startHours, startMinutes] = startTime.split(':').map(Number);\r\n        const totalMinutes = startHours * 60 + startMinutes + durationMinutes;\r\n        const endHours = Math.floor(totalMinutes / 60) % 24;\r\n        const endMinutes = totalMinutes % 60;\r\n        const endTime = `${String(endHours).padStart(2, '0')}:${String(endMinutes).padStart(2, '0')}`;\r\n\r\n        items.push({\r\n          id: `${classData.kelas_id}-${meeting.id}`,\r\n          day,\r\n          startTime,\r\n          endTime,\r\n          courseCode: classData.kode_mk,\r\n          courseName: classData.nama_mk,\r\n          className: classData.nama_kelas,\r\n          credits: totalSKS,\r\n          room: extractString(meeting.media_pembelajaran, 'TBA'),\r\n          topic: extractString(meeting.topik, ''),\r\n          weekNumber: meeting.pertemuan_ke,\r\n          classId: classData.kelas_id,\r\n          actualDate,\r\n          meetingId: meeting.id,\r\n        });\r\n      });\r\n    });\r\n\r\n    // Backend already filtered by this week's date range, just add weekDay labels\r\n    const weekItems: (ScheduleItem & { weekDay: WeekDay })[] = items\r\n      .filter(item => item.actualDate) // Ensure valid date\r\n      .map(item => {\r\n        const weekDayIndex = item.actualDate!.getDay();\r\n        const weekDaysMap: Record<number, WeekDay> = {\r\n          0: 'Sunday',\r\n          1: 'Monday',\r\n          2: 'Tuesday',\r\n          3: 'Wednesday',\r\n          4: 'Thursday',\r\n          5: 'Friday',\r\n          6: 'Saturday',\r\n        };\r\n        return {\r\n          ...item,\r\n          weekDay: weekDaysMap[weekDayIndex] || 'Monday',\r\n        };\r\n      })\r\n      .sort((a, b) => {\r\n        if (!a.actualDate || !b.actualDate) return 0;\r\n        return a.actualDate.getTime() - b.actualDate.getTime();\r\n      });\r\n    \r\n    setThisWeekItems(weekItems);\r\n  }, [rawClasses]);\r\n\r\n  const handleToggleAttendance = async (e: React.MouseEvent, meetingId: number, currentStatus: boolean) => {\r\n    e.stopPropagation();\r\n    setTogglingMeetingId(meetingId);\r\n    \r\n    // Optimistic update\r\n    setOptimisticToggles(prev => ({\r\n      ...prev,\r\n      [meetingId]: !currentStatus,\r\n    }));\r\n    \r\n    try {\r\n      await apiService.updateMeeting(meetingId, {\r\n        absensi_aktif: !currentStatus,\r\n      });\r\n      \r\n      // Invalidate both the meeting recap and class meetings queries to sync with AttendanceModal\r\n      await queryClient.invalidateQueries({\r\n        queryKey: ['lecturer-meeting-recap', user?.employeeId, currentSemester],\r\n      });\r\n      await queryClient.invalidateQueries({\r\n        queryKey: ['class-meetings'],\r\n      });\r\n      \r\n      // Clear optimistic toggle once data is confirmed\r\n      setOptimisticToggles(prev => {\r\n        const newToggles = { ...prev };\r\n        delete newToggles[meetingId];\r\n        return newToggles;\r\n      });\r\n    } catch (error) {\r\n      console.error('Failed to toggle attendance:', error);\r\n      // Revert optimistic update on error\r\n      setOptimisticToggles(prev => {\r\n        const newToggles = { ...prev };\r\n        delete newToggles[meetingId];\r\n        return newToggles;\r\n      });\r\n    } finally {\r\n      setTogglingMeetingId(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Lecturer Dashboard</h1>\r\n        <div className=\"text-sm text-gray-500\">Academic Year 2024/2025</div>\r\n      </div>\r\n\r\n      {/* Meeting Recap Section */}\r\n      <div className=\"card\">\r\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">Meeting Recap</h2>\r\n        \r\n        {meetingRecapLoading ? (\r\n          <div className=\"text-center py-8 text-gray-500\">Loading meeting recap...</div>\r\n        ) : (\r\n        <>\r\n        {/* Legend */}\r\n        <div className=\"mb-4 p-3 bg-gray-50 rounded-lg border border-gray-200\">\r\n          <h3 className=\"text-xs font-semibold text-gray-700 mb-2\">Legend</h3>\r\n          <div className=\"grid grid-cols-2 md:grid-cols-4 gap-3 text-xs\">\r\n            <div key=\"student-complete\" className=\"flex items-center gap-1.5\">\r\n              <CheckCircle className=\"h-4 w-4 text-green-600 flex-shrink-0\" />\r\n              <span className=\"text-gray-600\">Student Attendance Recap Complete</span>\r\n            </div>\r\n            <div key=\"student-partial\" className=\"flex items-center gap-1.5\">\r\n              <CheckCircle className=\"h-4 w-4 text-orange-500 flex-shrink-0\" />\r\n              <span className=\"text-gray-600\">Student Attendance Recap Partial</span>\r\n            </div>\r\n            <div key=\"student-incomplete\" className=\"flex items-center gap-1.5\">\r\n              <XCircle className=\"h-4 w-4 text-gray-300 flex-shrink-0\" />\r\n              <span className=\"text-gray-600\">Student Attendance Recap Incomplete</span>\r\n            </div>\r\n            <div key=\"lecturer-assigned\" className=\"flex items-center gap-1.5\">\r\n              <User className=\"h-4 w-4 text-blue-600 flex-shrink-0\" />\r\n              <span className=\"text-gray-600\">Lecturer Assigned</span>\r\n            </div>\r\n            <div key=\"lecturer-unassigned\" className=\"flex items-center gap-1.5\">\r\n              <User className=\"h-4 w-4 text-gray-300 flex-shrink-0\" />\r\n              <span className=\"text-gray-600\">Lecturer Unassigned</span>\r\n            </div>\r\n            <div key=\"attendance-active\" className=\"flex items-center gap-1.5\">\r\n              <div className=\"h-2 w-2 rounded-full bg-green-600 flex-shrink-0\" />\r\n              <span className=\"text-gray-600\">Attendance Active</span>\r\n            </div>\r\n            <div key=\"attendance-inactive\" className=\"flex items-center gap-1.5\">\r\n              <div className=\"h-2 w-2 rounded-full bg-gray-400 flex-shrink-0\" />\r\n              <span className=\"text-gray-600\">Attendance Inactive</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        {meetingRecaps.length === 0 ? (\r\n          <div className=\"text-center py-8 text-gray-500\">No classes found for this semester</div>\r\n        ) : (\r\n          <div className=\"space-y-3\">\r\n            {meetingRecaps.map(recap => {\r\n              return (\r\n              <Card key={recap.classId} className=\"p-0 overflow-hidden\">\r\n                {/* Class Info Header */}\r\n                <div className=\"bg-gradient-to-r from-primary-50 to-secondary-50 px-3 py-2 border-b border-gray-200\">\r\n                  <div className=\"flex justify-between items-center gap-3\">\r\n                    <div className=\"flex-1 min-w-0\">\r\n                      <h4 className=\"font-semibold text-sm text-gray-900 truncate\">\r\n                        {recap.courseCode} - {recap.courseName}\r\n                      </h4>\r\n                      <p className=\"text-xs text-gray-600\">{recap.className}</p>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 flex-shrink-0\">\r\n                      <div className=\"text-xs text-gray-600\">\r\n                        {recap.meetings.length} meeting{recap.meetings.length !== 1 ? 's' : ''}\r\n                      </div>\r\n                      <button\r\n                        type=\"button\"\r\n                        onClick={() => {\r\n                          navigate(`/class-summary/${recap.classId}?courseCode=${encodeURIComponent(recap.courseCode)}&courseName=${encodeURIComponent(recap.courseName)}&className=${encodeURIComponent(recap.className)}&sksTatapMuka=${recap.sksTatapMuka}&sksPraktek=${recap.sksPraktek}&sksPrakLapangan=${recap.sksPrakLapangan}&sksSimulasi=${recap.sksSimulasi}&from=lecturer/dashboard`);\r\n                        }}\r\n                        className=\"px-2 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors flex items-center gap-1 text-xs whitespace-nowrap\"\r\n                        title=\"View attendance matrix\"\r\n                      >\r\n                        <Users className=\"h-3.5 w-3.5\" />\r\n                        <span>Summary</span>\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Meeting Grid */}\r\n                <div className=\"p-3\">\r\n                  <div className=\"flex gap-1 flex-wrap\">\r\n                    {recap.meetings.map((meeting: any) => {\r\n                      const dateStr = meeting.date\r\n                        ? meeting.date.toLocaleDateString('en-US', { month: 'short', day: 'numeric' })\r\n                        : '';\r\n                      \r\n                      // Use optimistic toggle if available, otherwise use actual value\r\n                      const currentAbsensiAktif = optimisticToggles[meeting.id] !== undefined \r\n                        ? optimisticToggles[meeting.id] \r\n                        : meeting.absensiAktif;\r\n                      \r\n                      return (\r\n                        <div\r\n                          key={meeting.id}\r\n                          role=\"button\"\r\n                          tabIndex={0}\r\n                          onClick={() => {\r\n                            const meetingDateTime = meeting.date ? new Date(meeting.date) : undefined;\r\n                            setSelectedMeeting({\r\n                              meetingId: meeting.id,\r\n                              classId: recap.classId,\r\n                              title: `${recap.courseCode} • ${recap.courseName}`,\r\n                              subtitle: `Week ${meeting.weekNumber}`,\r\n                              dateLabel: dateStr,\r\n                              meetingDateTime,\r\n                              topic: meeting.topic || undefined,\r\n                            });\r\n                          }}\r\n                          onKeyDown={(event) => {\r\n                            if (event.key === 'Enter' || event.key === ' ') {\r\n                              event.preventDefault();\r\n                              const meetingDateTime = meeting.date ? new Date(meeting.date) : undefined;\r\n                              setSelectedMeeting({\r\n                                meetingId: meeting.id,\r\n                                classId: recap.classId,\r\n                                title: `${recap.courseCode} • ${recap.courseName}`,\r\n                                subtitle: `Week ${meeting.weekNumber}`,\r\n                                dateLabel: dateStr,\r\n                                meetingDateTime,\r\n                                topic: meeting.topic || undefined,\r\n                              });\r\n                            }\r\n                          }}\r\n                          className=\"flex flex-col items-center gap-1 p-2 rounded border border-gray-200 hover:bg-gray-50 transition-colors cursor-pointer min-w-[80px] relative group focus:outline-none focus:ring-2 focus:ring-primary-200\"\r\n                          title={`Week ${meeting.weekNumber} - ${dateStr}${meeting.topic ? ` - ${meeting.topic}` : ''}\\nStudent Attendance: ${meeting.recordedAttendances}/${meeting.totalStudents}\\nLecturer Attendance: ${meeting.lecturerAssigned ? 'Complete' : 'Incomplete'}\\nAttendance: ${meeting.absensiAktif ? 'Active' : 'Inactive'}`}\r\n                        >\r\n                          <div className=\"text-xs font-semibold text-gray-600\">W{meeting.weekNumber}</div>\r\n                          \r\n                          {/* Status Icons */}\r\n                          <div className=\"flex gap-1 items-center justify-center h-6\">\r\n                            {/* Student Attendance Status */}\r\n                            {meeting.studentAttendanceComplete ? (\r\n                              <CheckCircle className=\"h-4 w-4 text-green-600\" />\r\n                            ) : meeting.recordedAttendances > 0 ? (\r\n                              <CheckCircle className=\"h-4 w-4 text-orange-500\" />\r\n                            ) : (\r\n                              <XCircle className=\"h-4 w-4 text-gray-300\" />\r\n                            )}\r\n                            \r\n                            {/* Lecturer Attendance Status (Complete if lecturer assigned) */}\r\n                            {meeting.lecturerAssigned ? (\r\n                              <User className=\"h-4 w-4 text-blue-600\" />\r\n                            ) : (\r\n                              <User className=\"h-4 w-4 text-gray-300\" />\r\n                            )}\r\n                          </div>\r\n                          \r\n                          <div className=\"text-xs text-gray-500 text-center leading-tight\">\r\n                            {dateStr || '-'}\r\n                          </div>\r\n                          \r\n                          {/* Attendance activation status */}\r\n                          <div className=\"flex items-center justify-center gap-1\">\r\n                            <div className={`h-2 w-2 rounded-full ${currentAbsensiAktif ? 'bg-green-600' : 'bg-gray-400'}`} />\r\n                          </div>\r\n                          \r\n                          {/* Toggle Attendance Button */}\r\n                          <button\r\n                            type=\"button\"\r\n                            onClick={(e) => handleToggleAttendance(e, meeting.id, currentAbsensiAktif)}\r\n                            disabled={togglingMeetingId === meeting.id}\r\n                            aria-label={currentAbsensiAktif ? 'Deactivate attendance' : 'Activate attendance'}\r\n                            onMouseEnter={(e) => {\r\n                              (e.currentTarget as HTMLButtonElement).style.opacity = '1';\r\n                            }}\r\n                            onMouseLeave={(e) => {\r\n                              (e.currentTarget as HTMLButtonElement).style.opacity = '0.25';\r\n                            }}\r\n                            className=\"absolute bottom-1 right-1 p-1.5 rounded bg-white border border-gray-200 hover:bg-gray-50 disabled:opacity-50 transition-opacity shadow-sm cursor-pointer\"\r\n                            style={{ opacity: 0.25 }}\r\n                            title={currentAbsensiAktif ? 'Deactivate Attendance' : 'Activate Attendance'}\r\n                          >\r\n                            {togglingMeetingId === meeting.id ? (\r\n                              <Loader className=\"h-3.5 w-3.5 text-gray-600 animate-spin\" />\r\n                            ) : (\r\n                              <div className={`h-3.5 w-3.5 rounded-full border-2 ${currentAbsensiAktif ? 'bg-green-600 border-green-600' : 'border-gray-300'}`} />\r\n                            )}\r\n                          </button>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                </div>\r\n              </Card>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n        </>\r\n        )}\r\n      </div>\r\n\r\n      <div className=\"card\">\r\n        <h2 className=\"text-lg font-semibold text-gray-900 mb-4\">This Week's Schedule</h2>\r\n        {loading ? (\r\n          <div className=\"text-center py-8 text-gray-500\">Loading this week's schedule...</div>\r\n        ) : thisWeekItems.length === 0 ? (\r\n          <div className=\"text-center py-8 text-gray-500\">No classes scheduled for this week</div>\r\n        ) : (\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {thisWeekItems.map(item => {\r\n              // Combine date and time to create meeting datetime\r\n              const meetingDateTime = item.actualDate ? new Date(item.actualDate) : null;\r\n              if (meetingDateTime && item.startTime) {\r\n                const [hours, minutes] = item.startTime.split(':').map(Number);\r\n                meetingDateTime.setHours(hours, minutes, 0, 0);\r\n              }\r\n\r\n              return (\r\n              <button\r\n                key={item.id}\r\n                type=\"button\"\r\n                onClick={() =>\r\n                  setSelectedMeeting({\r\n                    meetingId: item.meetingId,\r\n                    classId: item.classId,\r\n                    title: `${item.courseCode} • ${item.courseName}`,\r\n                    subtitle: `Week ${item.weekNumber}`,\r\n                    dateLabel: item.actualDate?.toLocaleDateString('id-ID', {\r\n                      weekday: 'short',\r\n                      day: 'numeric',\r\n                      month: 'short',\r\n                    }),\r\n                    meetingDateTime: meetingDateTime || undefined,\r\n                    topic: item.topic || undefined,\r\n                  })\r\n                }\r\n                className=\"text-left p-3 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors flex flex-col cursor-pointer\"\r\n              >\r\n                <div className=\"flex-1\">\r\n                  <div className=\"flex items-start justify-between gap-2 mb-2\">\r\n                    <div className=\"flex items-center gap-2 flex-wrap\">\r\n                      <span className=\"inline-block px-2.5 py-0.5 bg-primary-100 text-primary-700 text-xs font-semibold rounded\">\r\n                        {item.weekDay}\r\n                      </span>\r\n                      {item.actualDate && (\r\n                        <span className=\"text-xs text-gray-500 px-2 py-0.5 bg-gray-100 rounded\">\r\n                          {item.actualDate.toLocaleDateString('id-ID', { day: 'numeric', month: 'short' })}\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                    <span className=\"text-xs text-gray-500\">Week {item.weekNumber}</span>\r\n                  </div>\r\n                  <div className=\"text-xs font-semibold text-primary-600 mb-1\">{item.courseCode}</div>\r\n                  <h3 className=\"text-xs font-medium text-gray-900 line-clamp-2 mb-1\">{item.courseName}</h3>\r\n                </div>\r\n                <div className=\"flex flex-col gap-1 text-xs text-gray-600 border-t border-gray-100 pt-2 mt-2\">\r\n                  <div className=\"flex items-center gap-1.5\">\r\n                    <Clock className=\"h-3 w-3 flex-shrink-0\" />\r\n                    <span>{item.startTime} - {item.endTime}</span>\r\n                  </div>\r\n                </div>\r\n              </button>\r\n              );\r\n            })}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      <AttendanceModal\r\n        selectedMeeting={selectedMeeting}\r\n        onClose={() => setSelectedMeeting(null)}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LecturerDashboard;\r\n"],"names":["getDayFromDate","dateValue","date","extractDate","dayIndex","getTimeFromDate","dateStr","extractString","timePart","getCurrentWeekRange","today","dayOfWeek","daysToSunday","start","end","LecturerDashboard","user","currentSemester","useAuth","navigate","useNavigate","queryClient","useQueryClient","thisWeekItems","setThisWeekItems","useState","selectedMeeting","setSelectedMeeting","togglingMeetingId","setTogglingMeetingId","optimisticToggles","setOptimisticToggles","React","startDay","endDay","rawClasses","loading","useLecturerClasses","meetingRecapData","meetingRecapLoading","useQuery","apiService","meetingRecaps","useMemo","classData","meeting","useEffect","items","day","startTime","actualDate","totalSKS","durationMinutes","startHours","startMinutes","totalMinutes","endHours","endMinutes","endTime","weekItems","item","weekDayIndex","b","handleToggleAttendance","e","meetingId","currentStatus","prev","newToggles","error","jsxs","jsx","Fragment","CheckCircle","XCircle","User","recap","Card","Users","currentAbsensiAktif","meetingDateTime","event","Loader","hours","minutes","Clock","AttendanceModal"],"mappings":"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"}