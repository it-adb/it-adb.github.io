import{j as e}from"./query-vendor-B--u1oZD.js";import{r as i}from"./react-vendor-XXJdR_Id.js";import{j as f,J as y,F as S,K as b,X as w,a1 as I}from"./ui-vendor-DMb5NT47.js";const c=Array.from({length:12}).map((d,a)=>({id:`S${a+1}`,name:`Student ${a+1}`,studentId:`22010${(a+1).toString().padStart(3,"0")}`,program:"Informatics",semester:5,gpa:Math.round((3+Math.random()*1)*100)/100,lastSemesterGPA:Math.round((3+Math.random()*1)*100)/100})),A=c.slice(0,5).map((d,a)=>({id:`KRS-${a+1}`,student:d,semester:"2024/2025 Genap",requestedCredits:21-a,status:"submitted",submittedAt:new Date().toISOString()})),R=()=>{const[d,a]=i.useState(""),[u,m]=i.useState(A),[o,h]=i.useState([]),[l,x]=i.useState(""),[t,j]=i.useState(c[0]),v=i.useMemo(()=>c.filter(s=>s.name.toLowerCase().includes(d.toLowerCase())||s.studentId.includes(d)),[d]),p=s=>{m(n=>n.map(r=>r.id===s?{...r,status:"approved",decisionAt:new Date().toISOString()}:r))},N=s=>{m(n=>n.map(r=>r.id===s?{...r,status:"rejected",decisionAt:new Date().toISOString()}:r))},g=()=>{if(!t||!l.trim())return;const s={id:`${Date.now()}`,studentId:t.id,advisorId:"L1",date:new Date().toISOString(),note:l.trim()};h(n=>[s,...n]),x("")};return e.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Advisor"}),e.jsx("div",{className:"text-sm text-gray-500",children:"Approve KRS and track advisees"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"flex items-center justify-between mb-3",children:e.jsxs("div",{className:"font-semibold text-gray-900 inline-flex items-center",children:[e.jsx(f,{className:"h-4 w-4 mr-2"})," Advisees"]})}),e.jsxs("div",{className:"mb-3 relative",children:[e.jsx(y,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-gray-400"}),e.jsx("input",{className:"w-full pl-9 pr-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Search name or ID",value:d,onChange:s=>a(s.target.value)})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto divide-y",children:v.map(s=>e.jsxs("button",{className:`w-full text-left py-2 px-2 hover:bg-gray-50 ${t?.id===s.id?"bg-primary-50":""}`,onClick:()=>j(s),children:[e.jsx("div",{className:"font-medium text-gray-900",children:s.name}),e.jsxs("div",{className:"text-xs text-gray-600",children:[s.studentId," • Semester ",s.semester," • IPK ",s.gpa]})]},s.id))})]}),e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"font-semibold text-gray-900 mb-3 inline-flex items-center",children:[e.jsx(S,{className:"h-4 w-4 mr-2"})," KRS Submissions"]}),e.jsx("div",{className:"space-y-3",children:u.map(s=>e.jsx("div",{className:"p-3 border rounded-lg",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"font-medium text-gray-900",children:[s.student.name," • ",s.student.studentId]}),e.jsxs("div",{className:"text-xs text-gray-500",children:[s.semester," • Requested SKS: ",s.requestedCredits]})]}),e.jsx("div",{className:"flex items-center space-x-2",children:s.status==="submitted"?e.jsxs(e.Fragment,{children:[e.jsxs("button",{className:"btn btn-primary inline-flex items-center",onClick:()=>p(s.id),children:[e.jsx(b,{className:"h-4 w-4 mr-1"})," Approve"]}),e.jsxs("button",{className:"btn inline-flex items-center",onClick:()=>N(s.id),children:[e.jsx(w,{className:"h-4 w-4 mr-1"})," Reject"]})]}):e.jsx("div",{className:`text-sm font-medium ${s.status==="approved"?"text-green-600":"text-red-600"}`,children:s.status.toUpperCase()})})]})},s.id))})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"card",children:[e.jsxs("div",{className:"font-semibold text-gray-900 mb-2 inline-flex items-center",children:[e.jsx(I,{className:"h-4 w-4 mr-2"})," Progress Summary"]}),t?e.jsxs("div",{className:"text-sm text-gray-700 space-y-1",children:[e.jsxs("div",{children:["Name: ",e.jsx("span",{className:"font-medium text-gray-900",children:t.name})]}),e.jsxs("div",{children:["ID: ",t.studentId]}),e.jsxs("div",{children:["Program: ",t.program]}),e.jsxs("div",{children:["Semester: ",t.semester]}),e.jsxs("div",{children:["IPS (Last): ",e.jsx("span",{className:"font-medium text-gray-900",children:t.lastSemesterGPA})]}),e.jsxs("div",{children:["IPK: ",e.jsx("span",{className:"font-medium text-gray-900",children:t.gpa})]})]}):e.jsx("div",{className:"text-sm text-gray-600",children:"Select a student to view progress"})]}),e.jsxs("div",{className:"card",children:[e.jsx("div",{className:"font-semibold text-gray-900 mb-2",children:"Guidance Notes"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("textarea",{className:"w-full border rounded-lg px-3 py-2",rows:3,placeholder:"Add a new note...",value:l,onChange:s=>x(s.target.value)}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{className:"btn btn-primary",onClick:g,children:"Add Note"})})]}),e.jsxs("div",{className:"mt-3 space-y-2 max-h-48 overflow-y-auto",children:[o.filter(s=>!t||s.studentId===t.id).map(s=>e.jsxs("div",{className:"p-2 border rounded",children:[e.jsx("div",{className:"text-xs text-gray-500",children:new Date(s.date).toLocaleString()}),e.jsx("div",{className:"text-sm text-gray-800",children:s.note})]},s.id)),o.filter(s=>!t||s.studentId===t.id).length===0&&e.jsx("div",{className:"text-sm text-gray-500",children:"No notes yet."})]})]})]})]})]})};export{R as default};
//# sourceMappingURL=AcademicAdvisor-CaG40t62.js.map
