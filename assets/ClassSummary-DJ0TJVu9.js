const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/jspdf.es.min-2pqXIzBy.js","assets/query-vendor-B--u1oZD.js","assets/react-vendor-XXJdR_Id.js"])))=>i.map(i=>d[i]);
import{u as Qe,b as Ae,c as _t,_ as Ye,d as as,j as e}from"./query-vendor-B--u1oZD.js";import{r as i,e as ns,f as is,u as os}from"./react-vendor-XXJdR_Id.js";import{u as ls,a as cs,b as ds,c as us,d as bs}from"./useAttendances-BRO_9oj9.js";import{u as ps}from"./useLecturerAssignments-DTgRc4eP.js";import{b as ue}from"./index-BFadXLuC.js";import{H as xs,C as ht,r as Ne,g as Xe,s as we,t as He,u as Ue,v as We,w as Me,x as gs,y as fs}from"./ui-vendor-Bvty7Z9l.js";function ms(t){return Qe({queryKey:["grades",t?.krs_id??null,t?.kelas_id??null],queryFn:()=>ue.getGrades(t),enabled:!!(t&&(t.krs_id!==void 0||t.kelas_id!==void 0))})}function hs(t){const r=Ae();return _t({mutationFn:c=>ue.createGrade(c),onSuccess:async()=>{r.invalidateQueries({queryKey:["grades"]})}})}function ys(t){const r=Ae();return _t({mutationFn:({id:c,data:u})=>ue.updateGrade(c,u),onSuccess:async(c,u)=>{try{const l=await ue.getGrade(u.id);r.setQueriesData({queryKey:["grades"],exact:!1},A=>A&&A.map(E=>E.id===u.id?l:E))}catch(l){console.error("Failed to fetch updated grade, invalidating:",l),r.invalidateQueries({queryKey:["grades"]})}}})}const Te=["","Hadir","Izin","Sakit","Alfa","Terlambat","Pengganti"],yt={1:"Hadir",2:"Izin",3:"Sakit",4:"Alfa",5:"Terlambat",6:"Pengganti"},ne=t=>t?typeof t=="string"?t:t.Valid?t.String:"":"",Je=t=>{if(!t)return"";let r="";if(typeof t=="string"?r=t:t.Valid&&(r=t.Time),!r)return"";const c=new Date(r);return isNaN(c.getTime())?"":c.toISOString().slice(0,10)},ve=t=>{if(!t)return"";let r="";if(typeof t=="string"?r=t:"String"in t&&t.Valid?r=t.String:"Time"in t&&t.Valid&&(r=t.Time),!r)return"";const c=r.split(":");return c.length>=2?`${c[0].padStart(2,"0")}:${c[1].padStart(2,"0")}`:r},re=t=>{if(t==null)return null;if(typeof t=="number")return t;if(typeof t=="object"&&t!==null){if("Float64"in t&&t.Valid)return t.Float64;if("Int32"in t&&t.Valid)return t.Int32}return null},kt=t=>{if(t==null)return null;if(typeof t=="number"||typeof t=="string"||typeof t=="boolean")return t;if(typeof t=="object"&&t!==null){if("Float64"in t&&t.Valid)return t.Float64;if("Int32"in t)return t.Int32;if("String"in t&&t.Valid)return t.String}return null},$=t=>{if(t==null)return null;if(typeof t=="number")return t;if(typeof t=="object"&&t!==null&&"Float64"in t&&"Valid"in t){const r=t;return r.Valid?r.Float64:null}return null},Se=t=>{const r=t?.id_krs??t?.krs_id??t?.krsId??t?.krs?.id??t?.krs?.KRS?.id;return r!=null?Number(r):null},Ke=(t,r)=>r.find(u=>u.toLowerCase()===t.toLowerCase())??t,jt=t=>{let r="";if(typeof t=="object"&&t!==null){if(!t.Valid)return"-";r=t.Time}else r=t;if(!r)return"-";const c=new Date(r),u=c.toLocaleDateString("en-US",{weekday:"short"}),l=c.toLocaleDateString("en-US",{day:"2-digit",month:"short",year:"numeric"});return`${u}, ${l}`},ks=t=>{let r="";if(typeof t=="object"&&t!==null){if(!t.Valid)return"-";r=t.Time}else r=t;if(!r)return"-";const c=new Date(r),u=c.toLocaleDateString("en-US",{weekday:"short"}),l=c.toLocaleDateString("en-US",{day:"2-digit"}),A=c.toLocaleDateString("en-US",{month:"short"});return`${u}
${l} ${A}`},Nt=t=>ve(t)||"-",K={aktivitas_partisipatif:15,hasil_proyek:35,quiz:5,tugas:5,uts:15,uas:25},_s=["bobot_partisipatif","bobot_proyek","bobot_kuis","bobot_tugas","bobot_uts","bobot_uas"],js=["aktivitas_partisipatif","hasil_proyek","quiz","tugas","uts","uas","nilai_angka","nilai_huruf","nilai_indeks"],wt=t=>{const r=$(t?.bobot_partisipatif),c=$(t?.bobot_proyek),u=$(t?.bobot_kuis),l=$(t?.bobot_tugas),A=$(t?.bobot_uts),E=$(t?.bobot_uas);return[{key:"aktivitas_partisipatif",weight:r??K.aktivitas_partisipatif},{key:"hasil_proyek",weight:c??K.hasil_proyek},{key:"quiz",weight:u??K.quiz},{key:"tugas",weight:l??K.tugas},{key:"uts",weight:A??K.uts},{key:"uas",weight:E??K.uas}]},Ze=t=>t==null?{huruf:"",indeks:0}:t>=80?{huruf:"A",indeks:4}:t>=75?{huruf:"AB",indeks:3.5}:t>=70?{huruf:"B",indeks:3}:t>=65?{huruf:"BC",indeks:2.5}:t>=60?{huruf:"C",indeks:2}:t>=55?{huruf:"CD",indeks:1.5}:t>=40?{huruf:"D",indeks:1}:{huruf:"E",indeks:0},et=(t,r)=>{let c=0,u=0,l=!1;return(r??wt()).forEach(({key:E,weight:I})=>{const w=t[E],D=re(w);D!==null&&(u+=D*I,c+=I,l=!0)}),!l||c===0?null:parseFloat((u/c).toFixed(2))},vt=(t,r,c)=>t.id&&t.id>0?`id:${t.id}`:t.krs_id?`krs:${typeof t.krs_id=="object"?t.krs_id.Int32:t.krs_id}`:r?`krs:${r}`:`nim:${c}`,Ns=({classId:t,meetingIds:r,attendanceMap:c,isEditing:u})=>{const l=Ae(),A=i.useRef(!1),[E,I]=i.useState({}),[w,D]=i.useState({}),[V,P]=i.useState(new Set),[n,k]=i.useState({}),[ee,C]=i.useState({}),[y,_]=i.useState(null),[oe,te]=i.useState(null),g=ls(),v=cs(),N=i.useCallback(()=>{if(A.current){console.log("[EFFECT] Skipping attendance snapshot update - just saved");return}console.log("[EFFECT] Building attendance snapshot, isEditing:",u);const F={};Object.values(c).forEach(U=>{U.forEach(B=>{const Q=ne(B.status_kehadiran);F[`${B.nim}-${B.id_pertemuan}`]=Ke(Q,Te)})}),D(F),u||(console.log("[EFFECT] Setting original cache (not editing)"),C(c))},[c,u]),q=i.useCallback(()=>{const F=new Set;Object.entries(n).forEach(([U,B])=>{const Q=w[U]??"";Ke(Q,Te)!==Ke(B,Te)&&F.add(U)}),P(F)},[n,w]),O=i.useCallback((F,U)=>{const[B,Q]=F.split("-"),Y=Number(Q),be=["class-attendances",t,r];l.setQueryData(be,de=>{const d={...de||{}},b=[...d[Y]||[]],S=b.findIndex(p=>p.nim===B);return S>=0?b[S]={...b[S],status_kehadiran:U}:b.push({id:-Date.now(),id_pertemuan:Y,nim:B,status_kehadiran:U}),d[Y]=b,d}),k(de=>({...de,[F]:U})),q()},[t,r,l,q]),j=i.useCallback(async(F=!1)=>{if(!u)return;const U=Object.entries(n);if(U.length){I(B=>{const Q={...B};return U.forEach(([Y])=>Q[Y]=!0),Q});try{await Promise.all(U.map(async([Q,Y])=>{const[be,de]=Q.split("-"),d=Number(de),b=c[d]?.find(S=>S.nim===be);b&&b.id>0?await v.mutateAsync({id:b.id,data:{status_kehadiran:Y||void 0}}):await g.mutateAsync({id_pertemuan:d,nim:be,status_kehadiran:Y||void 0})}));const B={};await Promise.all(r.map(async Q=>{const Y=await ue.getMeetingAttendances(Q);B[Q]=Y})),l.setQueryData(["class-attendances",t,r],B),C(B),A.current=!0,F||(k({}),P(new Set),_(null))}finally{I({})}}},[u,n,c,r,v,g,l,t]),M=i.useCallback(()=>{C(c),k({}),P(new Set),_(null),te(null)},[c]),le=i.useCallback(()=>{const F=["class-attendances",t,r];A.current?A.current=!1:l.setQueryData(F,ee),k({}),P(new Set),_(null),te(null)},[t,r,l,ee]),z=i.useMemo(()=>V.size>0,[V]);return{savingCells:E,initialAttendanceSnapshot:w,modifiedCells:V,pendingStatusChanges:n,activeCell:y,currentShortcutStatus:oe,hasUnsavedChanges:z,setActiveCell:_,setCurrentShortcutStatus:te,setPendingStatusChanges:k,buildInitialSnapshot:N,updateSingleCell:O,commitAttendanceChanges:j,enterEditMode:M,exitEditMode:le,recalcModified:q}},ws=({classIdNum:t,meetings:r})=>{const c=Ae(),[u,l]=i.useState({}),[A,E]=i.useState({}),[I,w]=i.useState({}),[D,V]=i.useState({}),[P,n]=i.useState({}),k=ds(),ee=i.useCallback((g,v,N,q,O,j)=>{l(M=>({...M,[g]:v||""})),E(M=>({...M,[g]:N||""})),w(M=>({...M,[g]:q||""})),V(M=>({...M,[g]:O||""})),n(M=>({...M,[g]:j}))},[]),C=i.useCallback(g=>{l(v=>{const N={...v};return delete N[g],N}),E(v=>{const N={...v};return delete N[g],N}),w(v=>{const N={...v};return delete N[g],N}),V(v=>{const N={...v};return delete N[g],N}),n(v=>{const N={...v};return delete N[g],N})},[]),y=i.useCallback(async g=>{const v=u[g]??"",N=A[g]??"",q=I[g]??"",O=D[g]??"",j=P[g]??!1,M=N?`${N}T00:00:00.000Z`:void 0,le=q?`${q}:00`:void 0;console.log("[MEETING] ðŸ’¾ Saving meeting",g,"with topic:",v),console.log("[MEETING] Date input:",N,"â†’ ISO:",M),console.log("[MEETING] Lecturer:",O),console.log("[MEETING] Absensi Aktif:",j),await k.mutateAsync({id:g,data:{topik:v||void 0,tgl_pertemuan:M,jam_pertemuan:le,id_dosen:O||void 0,absensi_aktif:j}}),console.log("[MEETING] âœ… Meeting saved successfully"),c.setQueryData(["class-meetings",t],z=>z&&z.map(F=>F.id===g?{...F,topik:v,tgl_pertemuan:M||F.tgl_pertemuan,jam_pertemuan:le||F.jam_pertemuan,id_dosen:O||F.id_dosen,absensi_aktif:j}:F)),C(g)},[u,A,I,D,P,k,c,t,C]),_=i.useCallback(()=>{console.log("[MEETING] ðŸ“ Entering meeting edit mode");const g={},v={},N={},q={},O={};r.forEach(j=>{g[j.id]=ne(j.topik),v[j.id]=Je(j.tgl_pertemuan),N[j.id]=ve(j.jam_pertemuan),q[j.id]=ne(j.id_dosen);let M=!1;j.absensi_aktif!==null&&j.absensi_aktif!==void 0&&(typeof j.absensi_aktif=="boolean"?M=j.absensi_aktif:typeof j.absensi_aktif=="object"&&"Bool"in j.absensi_aktif&&(M=j.absensi_aktif.Valid?j.absensi_aktif.Bool:!1)),O[j.id]=M}),l(g),E(v),w(N),V(q),n(O)},[r]),oe=i.useCallback(()=>{console.log("[MEETING] ðŸšª Exiting meeting edit mode - clearing edits"),l({}),E({}),w({}),V({}),n({})},[]),te=i.useMemo(()=>{for(const g of r){const v=g.id,N=u[v]??"",q=ne(g.topik);if(N!==q)return!0;const O=A[v]??"",j=Je(g.tgl_pertemuan);if(O!==j)return!0;const M=I[v]??"",le=ve(g.jam_pertemuan);if(M!==le)return!0;const z=D[v]??"",F=ne(g.id_dosen);if(z!==F)return!0;const U=P[v]??!1;let B=!1;if(g.absensi_aktif!==null&&g.absensi_aktif!==void 0&&(typeof g.absensi_aktif=="boolean"?B=g.absensi_aktif:typeof g.absensi_aktif=="object"&&"Bool"in g.absensi_aktif&&(B=g.absensi_aktif.Valid?g.absensi_aktif.Bool:!1)),U!==B)return!0}return!1},[r,u,A,I,D,P]);return{editedTopics:u,editedDates:A,editedTimes:I,editedLecturers:D,editedAbsensiAktif:P,hasUnsavedChanges:te,setEditedTopics:l,setEditedDates:E,setEditedTimes:w,setEditedLecturers:V,setEditedAbsensiAktif:n,startEditTopic:ee,cancelEditTopic:C,saveTopic:y,enterEditMode:_,exitEditMode:oe}},vs=({classIdNum:t,classId:r,students:c,gradeRecords:u,classData:l})=>{const A=Ae(),[E,I]=i.useState({}),[w,D]=i.useState(new Set),[V,P]=i.useState(new Set),[n,k]=i.useState({}),[ee,C]=i.useState(!1),[y,_]=i.useState(null),[oe,te]=i.useState(!1),g=ys(),v=hs(),N=i.useMemo(()=>{const d=n.bobot_partisipatif??$(l?.bobot_partisipatif),b=n.bobot_proyek??$(l?.bobot_proyek),S=n.bobot_kuis??$(l?.bobot_kuis),p=n.bobot_tugas??$(l?.bobot_tugas),m=n.bobot_uts??$(l?.bobot_uts),G=n.bobot_uas??$(l?.bobot_uas);return{aktivitas_partisipatif:d??K.aktivitas_partisipatif,hasil_proyek:b??K.hasil_proyek,quiz:S??K.quiz,tugas:p??K.tugas,uts:m??K.uts,uas:G??K.uas}},[l,n]),q=i.useMemo(()=>{const d={bobot_partisipatif:n.bobot_partisipatif??$(l?.bobot_partisipatif),bobot_proyek:n.bobot_proyek??$(l?.bobot_proyek),bobot_kuis:n.bobot_kuis??$(l?.bobot_kuis),bobot_tugas:n.bobot_tugas??$(l?.bobot_tugas),bobot_uts:n.bobot_uts??$(l?.bobot_uts),bobot_uas:n.bobot_uas??$(l?.bobot_uas)};return wt(d)},[l,n]),O=i.useMemo(()=>({bobot_partisipatif:$(l?.bobot_partisipatif)??K.aktivitas_partisipatif,bobot_proyek:$(l?.bobot_proyek)??K.hasil_proyek,bobot_kuis:$(l?.bobot_kuis)??K.quiz,bobot_tugas:$(l?.bobot_tugas)??K.tugas,bobot_uts:$(l?.bobot_uts)??K.uts,bobot_uas:$(l?.bobot_uas)??K.uas}),[l]),j=i.useMemo(()=>_s.some(d=>{const b=n[d];return b===void 0?!1:b!==O[d]}),[n,O]),M=i.useCallback(d=>{const b=u,S=d?.nim??d?.krs?.nim??d?.student?.nim??"";let p;if(p=b.find(G=>G.student?.nim===S||G.krs?.student?.nim===S||G.krs?.nim===S),p)return p;const m=Se(d);return m!==null&&(p=u.find(G=>{const J=re(G.krs_id);return J!==null&&J===m}),p)||(p=b.find(G=>Object.values(G).some(J=>typeof J=="string"&&J===S)),p)?p:{id:0,krs_id:null,aktivitas_partisipatif:null,hasil_proyek:null,quiz:null,tugas:null,uts:null,uas:null,nilai_angka:null,nilai_huruf:null,nilai_indeks:null}},[u]),le=i.useCallback(async(d,b,S)=>{console.log("[GRADES] ðŸ’¾ Saving grade for key:",d,"Grade ID:",b?.id);const p=b?.id&&b.id>0?b.id:null;p&&D(m=>new Set([...m,p]));try{const m=E[d];if(!m){console.log("[GRADES] âš ï¸ No edited grade found for key:",d);return}if(!["aktivitas_partisipatif","hasil_proyek","quiz","tugas","uts","uas"].some(W=>{const se=re(b[W]),Fe=re(m[W]);return se!==Fe})){console.log("[GRADES] â„¹ï¸ No changes detected, skipping save"),P(W=>new Set([...W,d])),p&&D(W=>new Set([...W].filter(se=>se!==p)));return}const pe=et(m,q),xe=pe!==null?pe:re(m.nilai_angka);let he,ye;if(xe!==null){const{huruf:W,indeks:se}=Ze(xe);he=W,ye=se,console.log("[GRADES] ðŸ“Š Auto-calculated: Numeric=",xe,"Letter=",he,"Index=",ye)}const ke={aktivitas_partisipatif:re(m.aktivitas_partisipatif)??void 0,hasil_proyek:re(m.hasil_proyek)??void 0,quiz:re(m.quiz)??void 0,tugas:re(m.tugas)??void 0,uts:re(m.uts)??void 0,uas:re(m.uas)??void 0,nilai_angka:xe??void 0,nilai_huruf:he,nilai_indeks:ye};if(b.id&&b.id>0)console.log("[GRADES] ðŸ”„ Updating existing grade with ID:",b.id),await g.mutateAsync({id:b.id,data:ke});else if(b.krs_id){const W=re(b.krs_id);console.log("[GRADES] âž• Creating new grade with KRS ID:",W),await v.mutateAsync({krs_id:Number(W),...ke})}else{const se=Se(S)??re(m?.krs_id);if(se)console.log("[GRADES] âž• Creating new grade with KRS ID from student:",se),await v.mutateAsync({krs_id:Number(se),...ke});else throw console.log("[GRADES] âŒ Missing KRS ID for grade creation"),new Error("Missing KRS id for grade creation")}console.log("[GRADES] âœ… Grade saved successfully"),I(W=>{const se={...W};return delete se[d],se}),P(W=>new Set([...W,d]))}catch(m){throw console.log("[GRADES] âŒ Error saving grade:",m),m}finally{p&&D(m=>new Set([...m].filter(G=>G!==p)))}},[E,q,g,v]),z=i.useCallback((d,b,S)=>{I(p=>{const m={...p[d],[b]:S===""?null:S};if(q.some(J=>J.key===b)){const J=et(m,q);if(J!==null){const{huruf:pe,indeks:xe}=Ze(J);m.nilai_angka=J,m.nilai_huruf=pe,m.nilai_indeks=xe}else m.nilai_angka=null,m.nilai_huruf=null,m.nilai_indeks=null}return{...p,[d]:m}})},[q]),F=i.useCallback((d,b)=>{const S=b===""?void 0:parseFloat(b);k(p=>({...p,[d]:S})),_(null)},[]),U=i.useCallback(()=>{k({}),_(null),te(!0)},[]),B=i.useCallback(()=>{te(!1)},[]),Q=i.useCallback(async()=>{try{C(!0),_(null);const d={bobot_partisipatif:n.bobot_partisipatif??N.aktivitas_partisipatif,bobot_proyek:n.bobot_proyek??N.hasil_proyek,bobot_kuis:n.bobot_kuis??N.quiz,bobot_tugas:n.bobot_tugas??N.tugas,bobot_uts:n.bobot_uts??N.uts,bobot_uas:n.bobot_uas??N.uas},b=d.bobot_partisipatif+d.bobot_proyek+d.bobot_kuis+d.bobot_tugas+d.bobot_uts+d.bobot_uas;return Math.abs(b-100)>.01?(_(`Total must be 100%. Current total: ${b.toFixed(1)}%`),!1):(await ue.updateClass(t,d),await A.invalidateQueries({queryKey:["class",r]}),k({}),te(!0),console.log("[BOBOTS] âœ… Bobot values saved successfully"),!0)}catch(d){return console.error("[BOBOTS] âŒ Failed to save bobot values:",d),_(d instanceof Error?d.message:"Failed to save grade weights"),!1}finally{C(!1)}},[n,N,t,A,r]),Y=i.useCallback(()=>{console.log("[GRADES] ðŸ“ Entering grades edit mode");const d={};c.forEach(b=>{const S=M(b)||{},p=Se(b),m=b?.nim??b?.krs?.nim??b?.student?.nim??"",G=vt(S,p,m);d[G]=S}),console.log("[GRADES] Initial grade map:",d),I(d)},[c,M]),be=i.useCallback(()=>{console.log("[GRADES] ðŸšª Exiting grades edit mode - clearing edits"),I({}),P(new Set),k({}),_(null),te(!1)},[]),de=i.useMemo(()=>{for(const[d,b]of Object.entries(E)){let S=null;if(d.startsWith("id:")){const p=Number(d.split(":")[1]);S=u.find(m=>m.id===p)??null}else if(d.startsWith("krs:")){const p=Number(d.split(":")[1]);S=u.find(m=>{const G=re(m.krs_id);return G!==null&&G===p})??null}else if(d.startsWith("nim:")){const p=d.split(":")[1];S=u.find(G=>G.student?.nim===p||G.krs?.student?.nim===p||G.krs?.nim===p)??null}if(!S){if(Object.values(b).some(p=>p!=null&&p!==""))return!0;continue}for(const p of js){const m=kt(b[p]),G=kt(S[p]);if(m!==G)return!0}}return!!j},[E,u,j]);return{editedGrades:E,savingGradeIds:w,completedGradeKeys:V,editedBobots:n,isSavingBobots:ee,bobotError:y,isBobotCompleted:oe,gradeWeights:N,gradeComponents:q,hasEditedBobots:j,hasUnsavedChanges:de,setEditedGrades:I,setCompletedGradeKeys:P,findGradeForStudent:M,saveGrade:le,updateGradeField:z,handleBobotChange:F,cancelBobots:U,enableBobotEditing:B,saveBobots:Q,enterEditMode:Y,exitEditMode:be}},Ss=async t=>{try{const[{default:r},{default:c}]=await Promise.all([Ye(()=>import("./html2canvas-pro.esm-BvaDPKdU.js"),[]),Ye(()=>import("./jspdf.es.min-2pqXIzBy.js").then(P=>P.j),__vite__mapDeps([0,1,2]))]),u=await r(t,{scale:1.5,useCORS:!0,logging:!1,backgroundColor:"#ffffff"}),l=210,A=297,E=u.height*l/u.width;let I=E;const w=new c("p","mm","a4");let D=0;const V=u.toDataURL("image/jpeg",.85);for(w.addImage(V,"JPEG",0,D,l,E),I-=A;I>0;)D=I-E,w.addPage(),w.addImage(V,"JPEG",0,D,l,E),I-=A;return w}catch(r){throw console.error("Error generating PDF:",r),new Error("Failed to generate PDF. Please try again.")}},Es=async t=>{try{const r=await Ye(()=>import("./xlsx-DGuHH-KN.js"),[]),c=r.utils.book_new(),u=[["Class Summary Report"],[],["Course Code",t.courseCode],["Course Name",t.courseName],["Class",t.className],["Total SKS",t.totalSks],["Lecturers",t.lecturerNames.join(", ")],["Total Students",t.students.length],["Total Meetings",t.sortedMeetings.length],["Generated Date",new Date().toLocaleDateString("id-ID")]],l=r.utils.aoa_to_sheet(u);l["!cols"]=[{wch:20},{wch:40}],r.utils.book_append_sheet(c,l,"Class Description");const E=[["NIM","Name",...t.sortedMeetings.map(k=>`P${k.pertemuan_ke}`)]];t.students.forEach(k=>{const ee=t.attendanceLookup[k.nim]||{},C=[k.nim,k.nama];t.sortedMeetings.forEach(y=>{const _=ee[y.id]||"";C.push(_||"-")}),E.push(C)});const I=r.utils.aoa_to_sheet(E);I["!cols"]=[{wch:15},{wch:25},...t.sortedMeetings.map(()=>({wch:12}))],r.utils.book_append_sheet(c,I,"Attendance Overview");const w=[["Meeting","Date","Time","Lecturers","Topic"],...t.sortedMeetings.map(k=>{const ee=k.tgl_pertemuan&&(typeof k.tgl_pertemuan=="string"||typeof k.tgl_pertemuan=="object"&&"Valid"in k.tgl_pertemuan&&k.tgl_pertemuan.Valid);let C="";k.topik&&(typeof k.topik=="string"?C=k.topik:"String"in k.topik&&k.topik.Valid&&(C=k.topik.String));const y=ne(k.id_dosen),_=y&&t.lecturerLookup[y]?t.lecturerLookup[y]:"-";return[`P${k.pertemuan_ke}`,ee?jt(k.tgl_pertemuan):"-",Nt(k.jam_pertemuan),_,C||"-"]})],D=r.utils.aoa_to_sheet(w);D["!cols"]=[{wch:15},{wch:20},{wch:12},{wch:25},{wch:40}],r.utils.book_append_sheet(c,D,"Meeting Summary");const P=[["NIM","Name","Participation","Project","Quiz","Assignment","Midterm","Final","Numeric Grade","Letter Grade","Grade Index"]];t.students.forEach(k=>{const ee=t.findGradeForStudent(k)||{aktivitas_partisipatif:null,hasil_proyek:null,quiz:null,tugas:null,uts:null,uas:null,nilai_angka:null,nilai_huruf:null,nilai_indeks:null},C=y=>{const _=ee[y];return _==null?"":typeof _=="object"&&"Float64"in _?_.Valid?_.Float64:"":typeof _=="object"&&"String"in _?_.Valid?_.String:"":typeof _=="object"&&"Int32"in _?_.Valid?_.Int32:"":typeof _=="number"||typeof _=="string"?_:""};P.push([k.nim,k.nama,(()=>{const y=C("aktivitas_partisipatif");return y!==""?y:"-"})(),(()=>{const y=C("hasil_proyek");return y!==""?y:"-"})(),(()=>{const y=C("quiz");return y!==""?y:"-"})(),(()=>{const y=C("tugas");return y!==""?y:"-"})(),(()=>{const y=C("uts");return y!==""?y:"-"})(),(()=>{const y=C("uas");return y!==""?y:"-"})(),(()=>{const y=C("nilai_angka");return y!==""?y:"-"})(),(()=>{const y=C("nilai_huruf");return y!==""?y:"-"})(),(()=>{const y=C("nilai_indeks");return y!==""?y:"-"})()])}),P.push(["Component Weights","",`${t.gradeWeights.aktivitas_partisipatif}%`,`${t.gradeWeights.hasil_proyek}%`,`${t.gradeWeights.quiz}%`,`${t.gradeWeights.tugas}%`,`${t.gradeWeights.uts}%`,`${t.gradeWeights.uas}%`,"Total: 100%","",""]);const n=r.utils.aoa_to_sheet(P);return n["!cols"]=[{wch:15},{wch:25},{wch:13},{wch:10},{wch:8},{wch:12},{wch:10},{wch:8},{wch:13},{wch:12},{wch:11}],r.utils.book_append_sheet(c,n,"Grades Overview"),{workbook:c,XLSX:r}}catch(r){throw console.error("Error generating XLSX:",r),new Error("Failed to generate XLSX. Please try again.")}},Cs=async(t,r,c)=>{const u=await Ss(t),l=`Class_Summary_${r}_${c.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.pdf`;u.save(l)},As=async t=>{const{workbook:r,XLSX:c}=await Es(t),u=`Class_Summary_${t.className}_${t.courseName.replace(/\s+/g,"_")}_${new Date().toISOString().split("T")[0]}.xlsx`;c.writeFile(r,u)},Ds=()=>{const{classId:t}=ns(),[r]=is(),c=os(),u=i.useRef(null),[l,A]=i.useState(!1),[E,I]=i.useState(!1),[w,D]=i.useState(!1),[V,P]=i.useState(!1),[n,k]=i.useState(!1),[ee,C]=i.useState(!1),y=r.get("className")||"",_=r.get("courseName")||"",oe=r.get("courseCode")||"",te=r.get("from")||"dashboard",g=parseInt(r.get("sksTatapMuka")||"0",10),v=parseInt(r.get("sksPraktek")||"0",10),N=parseInt(r.get("sksPrakLapangan")||"0",10),q=parseInt(r.get("sksSimulasi")||"0",10),O=Number(t),{data:j=[],isLoading:M,error:le}=us(O),{data:z=[],isLoading:F,error:U}=bs(O),{data:B=[],isLoading:Q}=ms({kelas_id:O}),{data:Y=[],isLoading:be}=ps({id_kelas:String(t)}),{data:de,isLoading:d}=Qe({queryKey:["class",t],queryFn:()=>ue.getClassById(O),enabled:!!t}),b=i.useMemo(()=>{const s=new Set;return Y.forEach(o=>{const x=ne(o.id_dosen);x&&s.add(x)}),Array.from(s)},[Y]),S=as({queries:b.map(s=>({queryKey:["lecturer",s],queryFn:()=>ue.getLecturerByID(s),enabled:!!s}))}),p=i.useMemo(()=>{const s={};return S.forEach(o=>{const x=o.data;x?.id&&x?.nama_dosen&&(s[x.id]=x.nama_dosen)}),s},[S]),m=g+v+N+q,G=i.useMemo(()=>Y.map(s=>{const o=ne(s.id_dosen);return o?p[o]||o:null}).filter(Boolean),[Y,p]),J=i.useMemo(()=>j.map(s=>s.id),[j]),{data:pe={},isLoading:xe}=Qe({queryKey:["class-attendances",t,J],queryFn:async()=>{const s={};return await Promise.all(J.map(async o=>{const x=await ue.getMeetingAttendances(o);s[o]=x})),s},enabled:J.length>0}),he=Ns({classId:t,meetingIds:J,attendanceMap:pe,isEditing:w}),ye=ws({classIdNum:O,meetings:j}),ke=vs({classIdNum:O,classId:t,students:z,gradeRecords:B,classData:de}),{savingCells:W,modifiedCells:se,pendingStatusChanges:Fe,activeCell:tt,currentShortcutStatus:ie,setActiveCell:st,setCurrentShortcutStatus:ce,updateSingleCell:rt,commitAttendanceChanges:St,enterEditMode:Et,exitEditMode:Ct}=he,{editedTopics:fe,editedDates:At,editedTimes:It,editedLecturers:Gt,editedAbsensiAktif:Mt,setEditedTopics:Le,setEditedDates:De,setEditedTimes:Pe,setEditedLecturers:$e,setEditedAbsensiAktif:Ve,startEditTopic:Tt,cancelEditTopic:Ft,saveTopic:at}=ye,{editedGrades:Be,savingGradeIds:Lt,completedGradeKeys:Dt,isSavingBobots:Re,bobotError:nt,isBobotCompleted:Pt,gradeWeights:H,gradeComponents:$t,hasEditedBobots:Vt,setEditedGrades:Ie,setCompletedGradeKeys:it,findGradeForStudent:me,saveGrade:ot,updateGradeField:_e,handleBobotChange:je,cancelBobots:Bt,enableBobotEditing:Rt,saveBobots:lt,exitEditMode:qt}=ke,Ot=S.some(s=>s.isLoading),qe=M||F||xe||be||Q||d||Ot,Oe=le||U,zt=w||V||n,Ge=i.useMemo(()=>{const s=o=>{if(!o)return Number.POSITIVE_INFINITY;if(typeof o=="string"){const x=Date.parse(o);return isNaN(x)?Number.POSITIVE_INFINITY:x}if("Valid"in o){if(!o.Valid)return Number.POSITIVE_INFINITY;const x=Date.parse(o.Time);return isNaN(x)?Number.POSITIVE_INFINITY:x}return Number.POSITIVE_INFINITY};return[...j].sort((o,x)=>{const X=o.pertemuan_ke-x.pertemuan_ke;return X!==0?X:s(o.tgl_pertemuan)-s(x.tgl_pertemuan)})},[j]),ct=i.useMemo(()=>{const s={};return Object.values(pe).forEach(o=>{o.forEach(x=>{s[x.nim]||(s[x.nim]={});const X=ne(x.status_kehadiran);s[x.nim][x.id_pertemuan]=X})}),s},[pe]),Xt=s=>{switch(s?.toLowerCase()){case"hadir":case"present":return e.jsx(Ne,{className:"h-4 w-4 text-green-600"});case"izin":case"excused":return e.jsx(Xe,{className:"h-4 w-4 text-blue-600"});case"sakit":case"sick":return e.jsx(we,{className:"h-4 w-4 text-yellow-600"});case"terlambat":case"late":return e.jsx(Ue,{className:"h-4 w-4 text-orange-600"});case"pengganti":case"substitute":return e.jsx(Ne,{className:"h-4 w-4 text-purple-600"});case"alpa":case"alfa":case"absent":return e.jsx(He,{className:"h-4 w-4 text-red-600"});default:return e.jsx(We,{className:"h-4 w-4 text-gray-300"})}},Ht=s=>{switch(s?.toLowerCase()){case"hadir":case"present":return"bg-green-50 text-green-700";case"izin":case"excused":return"bg-blue-50 text-blue-700";case"sakit":case"sick":return"bg-yellow-50 text-yellow-700";case"terlambat":case"late":return"bg-orange-50 text-orange-700";case"pengganti":case"substitute":return"bg-purple-50 text-purple-700";case"alpa":case"alfa":case"absent":return"bg-red-50 text-red-700";default:return"bg-gray-50 text-gray-400"}};i.useEffect(()=>{if(!w)return;const s=o=>{yt[o.key]?(o.preventDefault(),ce(yt[o.key])):o.key==="Escape"&&ce(null)};return window.addEventListener("keydown",s),()=>window.removeEventListener("keydown",s)},[w,ce]);const Ut=he.hasUnsavedChanges||ye.hasUnsavedChanges||ke.hasUnsavedChanges,Wt=()=>{Et(),D(!0)},dt=()=>{Ct(),D(!1)},Kt=()=>{console.log("[MEETING] ðŸ“ Entering meeting edit mode");const s={},o={},x={},X={},a={};j.forEach(h=>{s[h.id]=ne(h.topik),o[h.id]=Je(h.tgl_pertemuan),x[h.id]=ve(h.jam_pertemuan),X[h.id]=ne(h.id_dosen);let R=!1;h.absensi_aktif!==null&&h.absensi_aktif!==void 0&&(typeof h.absensi_aktif=="boolean"?R=h.absensi_aktif:typeof h.absensi_aktif=="object"&&"Bool"in h.absensi_aktif&&(R=h.absensi_aktif.Valid?h.absensi_aktif.Bool:!1)),a[h.id]=R}),Le(s),De(o),Pe(x),$e(X),Ve(a),P(!0)},ut=()=>{console.log("[MEETING] ðŸšª Exiting meeting edit mode - clearing edits"),Le({}),De({}),Pe({}),$e({}),Ve({}),P(!1)},Qt=()=>{console.log("[GRADES] ðŸ“ Entering grades edit mode");const s={};z.forEach(o=>{const x=me(o)||{},X=Se(o),a=vt(x,X,o.nim);s[a]=x}),console.log("[GRADES] Initial grade map:",s),Ie(s),k(!0)},bt=()=>{console.log("[GRADES] ðŸšª Exiting grades edit mode - clearing edits"),qt(),k(!1)},pt=()=>{dt(),ut(),bt()},Yt=async()=>{console.log("[SAVE ALL] ðŸš€ Starting save all and finish"),console.log("[SAVE ALL] Attendance editing:",w),console.log("[SAVE ALL] Meeting editing:",V),console.log("[SAVE ALL] Grades editing:",n),C(!0);try{const s=V?Object.keys(fe).map(a=>Number(a)).filter(a=>!Number.isNaN(a)).map(a=>at(a)):[];let o=!0;if(n&&Vt&&(console.log("[SAVE ALL] Saving bobot values..."),o=await lt(),!o))throw new Error("Failed to save grade weights");const x=n?Object.entries(Be).map(([a])=>{let h;if(a.startsWith("nim:")){const Z=a.substring(4);h=z.find(ae=>ae.nim===Z)}else if(a.startsWith("krs:")){const Z=Number(a.substring(4));h=z.find(ae=>Se(ae)===Z)}else if(a.startsWith("id:")){const Z=Number(a.substring(3));h=z.find(ae=>me(ae)?.id===Z)}const R=h?me(h):Be[a];return ot(a,R,h)}):[];console.log("[SAVE ALL] Meeting promises:",s.length),console.log("[SAVE ALL] Grade promises:",x.length);const X=w?St(!0):Promise.resolve();await Promise.all([Promise.all(s),Promise.all(x),X]),console.log("[SAVE ALL] âœ… All saves completed, exiting edit modes"),Zt()}catch(s){alert(s instanceof Error?s.message:"Failed to save changes")}finally{C(!1)}},Jt=()=>{c(-1)},Zt=()=>{pt()},es=async()=>{if(u.current){(window.React?.startTransition||(s=>s()))(()=>{A(!0)}),await new Promise(s=>setTimeout(s,0));try{await Cs(u.current,y,_)}catch(s){console.error("Error generating PDF:",s),alert("Failed to generate PDF. Please try again.")}finally{A(!1)}}},ts=async()=>{I(!0);try{await As({className:y,courseName:_,courseCode:oe,totalSks:m,lecturerNames:G,students:z.map(s=>({nim:s.nim,nama:s.nama})),sortedMeetings:Ge,attendanceLookup:ct,gradeRecords:B,gradeWeights:H,lecturerLookup:p,findGradeForStudent:me})}catch(s){console.error("Error generating XLSX:",s),alert("Failed to generate XLSX. Please try again.")}finally{I(!1)}};return e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsxs("nav",{className:"flex items-center space-x-2 text-sm text-gray-600",children:[e.jsx("button",{onClick:()=>c(`/${te}`),className:"flex items-center hover:text-gray-900 transition-colors",children:e.jsx(xs,{className:"h-4 w-4"})}),e.jsx(ht,{className:"h-4 w-4"}),e.jsx("button",{onClick:Jt,className:"hover:text-gray-900 transition-colors",children:te==="lecturer/class-schedule"?"Class Schedule":te==="admin/class-management"?"Class Management":"Dashboard"}),e.jsx(ht,{className:"h-4 w-4"}),e.jsx("span",{className:"text-gray-900 font-medium",children:"Class Summary"})]}),e.jsxs("div",{className:"flex justify-end gap-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("button",{onClick:()=>w?dt():Wt(),className:`btn-secondary flex items-center gap-2 hover:cursor-pointer transition-all active:scale-95 ${w?"bg-blue-600 text-white":""}`,children:w?"Stop Attendance Editing":"Edit Attendance"}),e.jsx("button",{onClick:()=>V?ut():Kt(),className:`btn-secondary flex items-center gap-2 hover:cursor-pointer transition-all active:scale-95 ${V?"bg-blue-600 text-white":""}`,children:V?"Stop Meeting Editing":"Edit Meetings"}),e.jsx("button",{onClick:()=>n?bt():Qt(),className:`btn-secondary flex items-center gap-2 hover:cursor-pointer transition-all active:scale-95 ${n?"bg-blue-600 text-white":""}`,children:n?"Stop Grades Editing":"Edit Grades"}),zt&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:Yt,className:"btn-primary",disabled:ee||!Ut,children:"Save & Finish"}),e.jsx("button",{onClick:()=>pt(),className:"btn-secondary",children:"Cancel"})]})]}),w&&e.jsxs("div",{className:"text-xs text-gray-600 flex flex-col gap-3 p-3 bg-blue-50 rounded border border-blue-200",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium text-gray-900",children:"Status Brush:"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Choose a status with buttons below or use keyboard shortcuts (1..6), then click cells to apply. Press Esc to clear."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("button",{onClick:()=>ce("Hadir"),className:`px-3 py-1 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${ie==="Hadir"?"bg-green-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Press 1",children:[e.jsx(Ne,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"1 - Hadir"})]}),e.jsxs("button",{onClick:()=>ce("Izin"),className:`px-3 py-1 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${ie==="Izin"?"bg-blue-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Press 2",children:[e.jsx(Xe,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"2 - Izin"})]}),e.jsxs("button",{onClick:()=>ce("Sakit"),className:`px-3 py-1 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${ie==="Sakit"?"bg-yellow-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Press 3",children:[e.jsx(we,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"3 - Sakit"})]}),e.jsxs("button",{onClick:()=>ce("Alfa"),className:`px-3 py-1 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${ie==="Alfa"?"bg-red-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Press 4",children:[e.jsx(He,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"4 - Alfa"})]}),e.jsxs("button",{onClick:()=>ce("Terlambat"),className:`px-3 py-1 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${ie==="Terlambat"?"bg-orange-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Press 5",children:[e.jsx(Ue,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"5 - Terlambat"})]}),e.jsxs("button",{onClick:()=>ce("Pengganti"),className:`px-3 py-1 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${ie==="Pengganti"?"bg-purple-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Press 6",children:[e.jsx(Ne,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"6 - Pengganti"})]}),e.jsxs("button",{onClick:()=>ce(null),className:`px-3 py-1 rounded text-xs font-medium transition-all flex items-center gap-1.5 ${ie===null?"bg-gray-600 text-white":"bg-white text-gray-700 border border-gray-300 hover:bg-gray-50"}`,title:"Press Esc",children:[e.jsx(We,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"Clear Brush"})]})]}),e.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border border-gray-200",children:[e.jsx("span",{className:"font-medium",children:"Current: "}),e.jsx("span",{className:"font-semibold",children:ie===null?"None":ie===""?"Kosong":ie})]})]}),e.jsx("button",{onClick:es,disabled:l||qe,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:cursor-pointer transition-all active:scale-95",children:l?e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Generating PDF..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(gs,{className:"h-4 w-4"}),e.jsx("span",{children:"Generate PDF Report"})]})}),e.jsx("button",{onClick:ts,disabled:E||qe,className:"btn-primary flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed hover:cursor-pointer transition-all active:scale-95",children:E?e.jsxs(e.Fragment,{children:[e.jsx(Me,{className:"h-4 w-4 animate-spin"}),e.jsx("span",{children:"Generating XLSX..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx("span",{children:"Generate XLSX Report"})]})})]}),e.jsxs("div",{ref:u,className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx("div",{className:"px-6 pt-6 pb-3",children:e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Class Summary"}),e.jsxs("p",{className:"text-base text-gray-600 mt-1",children:[oe&&e.jsx("span",{className:"font-medium",children:oe}),oe&&" - ",_," - Class ",y,m>0&&` (${m} SKS)`]}),G.length>0&&e.jsx("p",{className:"text-sm text-gray-500 mt-2",children:G.join(", ")})]})}),e.jsx("div",{children:qe?e.jsxs("div",{className:"flex items-center justify-center py-12 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(Me,{className:"h-8 w-8 text-blue-600 animate-spin"}),e.jsx("span",{className:"ml-3 text-gray-600",children:"Loading attendance data..."})]}):Oe?e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:[e.jsx(we,{className:"h-5 w-5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Error loading attendance data"}),e.jsx("p",{className:"text-sm text-red-600",children:Oe instanceof Error?Oe.message:"Unknown error"})]})]}):j.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(we,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"No meetings scheduled for this class"})]}):z.length===0?e.jsxs("div",{className:"text-center py-12 text-gray-500 bg-white rounded-lg shadow-sm border border-gray-200",children:[e.jsx(we,{className:"h-12 w-12 text-gray-300 mx-auto mb-3"}),e.jsx("p",{children:"No students enrolled in this class"})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"px-6 py-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Attendance Overview"}),e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("div",{className:"flex gap-0",children:[e.jsx("div",{className:"flex-shrink-0 sticky left-0 z-10",children:e.jsxs("table",{className:"border-collapse",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"bg-gray-50 border-r border-b border-gray-300 px-2 py-2 text-left text-xs font-semibold text-gray-700 w-24 align-top",children:e.jsx("div",{className:"min-h-[3.5rem] flex items-center",children:"NIM"})}),e.jsx("th",{className:"bg-gray-50 border-r border-b border-gray-300 px-2 py-2 text-left text-xs font-semibold text-gray-700 w-52 align-top",children:e.jsx("div",{className:"min-h-[3.5rem] flex items-center",children:"Name"})})]})}),e.jsx("tbody",{children:z.map(s=>e.jsxs("tr",{className:"hover:bg-gray-50 h-9",children:[e.jsx("td",{className:"bg-white border-r border-b border-gray-300 px-2 py-1.5 text-xs font-medium text-gray-900",children:s.nim}),e.jsx("td",{className:"bg-white border-r border-b border-gray-300 px-2 py-1.5 text-xs text-gray-900 truncate",children:s.nama})]},s.nim))})]})}),e.jsx("div",{className:"flex-1",children:e.jsxs("table",{className:"border-collapse",children:[e.jsx("thead",{children:e.jsx("tr",{className:"bg-gray-50",children:Ge.map(s=>{const o=s.tgl_pertemuan&&(typeof s.tgl_pertemuan=="string"||typeof s.tgl_pertemuan=="object"&&"Valid"in s.tgl_pertemuan&&s.tgl_pertemuan.Valid);return e.jsx("th",{className:"border-r border-b border-gray-300 px-1 py-2 text-center text-xs font-semibold text-gray-700 w-14 align-top",children:e.jsxs("div",{className:"min-h-[3.5rem] flex flex-col items-center justify-center gap-0.5",children:[e.jsxs("span",{className:"font-bold text-[10px]",children:["P",s.pertemuan_ke]}),o&&e.jsx("span",{className:"text-gray-500 font-normal text-[9px] whitespace-pre-line",children:ks(s.tgl_pertemuan)})]})},s.id)})})}),e.jsx("tbody",{children:z.map(s=>{const o=ct[s.nim]||{};return e.jsx("tr",{className:"hover:bg-gray-50 h-9",children:Ge.map(x=>{const X=Fe[`${s.nim}-${x.id}`]??o[x.id]??"",a=`${s.nim}-${x.id}`,h=se.has(a),R=W[a];return e.jsx("td",{className:`border-r border-b border-gray-300 px-1 py-1.5 text-center ${Ht(X)} ${w?"cursor-pointer":""} ${h?"bg-yellow-50":""} ${tt===a?"outline outline-2 outline-blue-500":""}`,onClick:()=>{w&&(ie!==null?rt(a,ie):st(a))},children:w&&tt===a?e.jsxs("select",{autoFocus:!0,value:X,onChange:Z=>rt(a,Z.target.value),onBlur:()=>st(null),className:"text-[10px] px-1 py-0.5 bg-white border border-gray-300 rounded w-full",children:[e.jsx("option",{value:""}),Te.slice(1).map(Z=>e.jsx("option",{value:Z,children:Z},Z))]}):R?e.jsx(Me,{className:"h-4 w-4 animate-spin text-gray-500 mx-auto"}):Xt(X)},x.id)})},s.nim)})})]})})]})})})]}),e.jsx("div",{className:"px-6 py-3",children:e.jsxs("div",{className:"flex items-center gap-4 text-xs flex-wrap",children:[e.jsx("span",{className:"font-medium text-gray-700",children:"Legend:"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"h-4 w-4 text-green-600"}),e.jsx("span",{className:"text-gray-600",children:"Present"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ue,{className:"h-4 w-4 text-orange-600"}),e.jsx("span",{className:"text-gray-600",children:"Late"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Xe,{className:"h-4 w-4 text-blue-600"}),e.jsx("span",{className:"text-gray-600",children:"Excused"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(we,{className:"h-4 w-4 text-yellow-600"}),e.jsx("span",{className:"text-gray-600",children:"Sick"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(He,{className:"h-4 w-4 text-red-600"}),e.jsx("span",{className:"text-gray-600",children:"Absent"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ne,{className:"h-4 w-4 text-purple-600"}),e.jsx("span",{className:"text-gray-600",children:"Substitute"})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(We,{className:"h-4 w-4 text-gray-300"}),e.jsx("span",{className:"text-gray-600",children:"No data"})]})]})}),e.jsxs("div",{className:"px-6 py-3",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Meeting Descriptions"}),e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:e.jsxs("table",{className:"w-full border-collapse text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border-b border-gray-300 px-3 py-2 text-left font-semibold text-gray-700 w-16",children:"Meeting"}),e.jsx("th",{className:"border-b border-gray-300 px-3 py-2 text-left font-semibold text-gray-700 w-40",children:"Date"}),e.jsx("th",{className:"border-b border-gray-300 px-3 py-2 text-left font-semibold text-gray-700 w-20",children:"Time"}),e.jsx("th",{className:"border-b border-gray-300 px-3 py-2 text-left font-semibold text-gray-700 w-48",children:"Lecturers"}),e.jsx("th",{className:"border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-24",children:"Attendance"}),e.jsx("th",{className:"border-b border-gray-300 px-3 py-2 text-left font-semibold text-gray-700",children:"Topic"})]})}),e.jsx("tbody",{children:Ge.map(s=>{const o=s.tgl_pertemuan&&(typeof s.tgl_pertemuan=="string"||typeof s.tgl_pertemuan=="object"&&"Valid"in s.tgl_pertemuan&&s.tgl_pertemuan.Valid);let x="";s.topik&&(typeof s.topik=="string"?x=s.topik:"String"in s.topik&&s.topik.Valid&&(x=s.topik.String));const X=It[s.id]??ve(s.jam_pertemuan);return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsxs("td",{className:"border-b border-gray-300 px-3 py-2 font-medium text-gray-900",children:["P",s.pertemuan_ke]}),e.jsx("td",{className:"border-b border-gray-300 px-3 py-2 text-gray-600",children:fe[s.id]!==void 0?e.jsx("input",{type:"date",value:At[s.id]||(()=>{if(!o)return"";let a="";if(typeof s.tgl_pertemuan=="string"?a=s.tgl_pertemuan:typeof s.tgl_pertemuan=="object"&&s.tgl_pertemuan.Valid&&(a=s.tgl_pertemuan.Time),!a)return"";const h=new Date(a);return isNaN(h.getTime())?"":h.toISOString().slice(0,10)})(),onChange:a=>De(h=>({...h,[s.id]:a.target.value})),className:"input-field text-xs"}):o?jt(s.tgl_pertemuan):"-"}),e.jsx("td",{className:"border-b border-gray-300 px-3 py-2 text-gray-600",children:fe[s.id]!==void 0?e.jsx("input",{type:"time",value:X||"",onChange:a=>Pe(h=>({...h,[s.id]:a.target.value})),className:"input-field text-xs"}):Nt(s.jam_pertemuan)}),e.jsx("td",{className:"border-b border-gray-300 px-3 py-2 text-gray-600",children:fe[s.id]!==void 0?e.jsxs("select",{value:Gt[s.id]||"",onChange:a=>$e(h=>({...h,[s.id]:a.target.value})),className:"input-field text-xs w-full",children:[e.jsx("option",{value:"",children:"- No Lecturer -"}),b.map(a=>e.jsx("option",{value:a,children:p[a]||a},a))]}):(()=>{const a=ne(s.id_dosen);return a&&p[a]?p[a]:"-"})()}),e.jsx("td",{className:"border-b border-gray-300 px-3 py-2 text-center",children:fe[s.id]!==void 0?e.jsx("label",{className:"flex items-center justify-center gap-1",children:e.jsx("input",{type:"checkbox",checked:Mt[s.id]??!1,onChange:a=>Ve(h=>({...h,[s.id]:a.target.checked})),className:"rounded border-gray-300 text-blue-600 focus:ring-blue-500"})}):(()=>{let a=!1;return s.absensi_aktif!==null&&s.absensi_aktif!==void 0&&(typeof s.absensi_aktif=="boolean"?a=s.absensi_aktif:typeof s.absensi_aktif=="object"&&"Bool"in s.absensi_aktif&&(a=s.absensi_aktif.Valid?s.absensi_aktif.Bool:!1)),e.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium ${a?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600"}`,children:[e.jsx("div",{className:`h-2 w-2 rounded-full ${a?"bg-green-600":"bg-gray-400"}`}),a?"Enabled":"Disabled"]})})()}),e.jsx("td",{className:"border-b border-gray-300 px-3 py-2 text-gray-600",children:V?fe[s.id]!==void 0?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{value:fe[s.id],onChange:a=>Le(h=>({...h,[s.id]:a.target.value})),className:"input-field w-full text-xs",placeholder:"Enter topic/description"}),e.jsx("button",{onClick:()=>at(s.id),className:"px-2 py-1 text-xs rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:"Save"}),e.jsx("button",{onClick:()=>Ft(s.id),className:"px-2 py-1 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300",children:"Cancel"})]}):e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"truncate max-w-[28rem]",children:x||"-"}),e.jsx("button",{onClick:()=>{let a="";if(o){let L="";if(typeof s.tgl_pertemuan=="string"?L=s.tgl_pertemuan:typeof s.tgl_pertemuan=="object"&&s.tgl_pertemuan.Valid&&(L=s.tgl_pertemuan.Time),L){const Ee=new Date(L);isNaN(Ee.getTime())||(a=Ee.toISOString().slice(0,10))}}let h="";const R=ve(s.jam_pertemuan);if(R){const L=R.split(":");L.length>=2&&(h=`${L[0].padStart(2,"0")}:${L[1].padStart(2,"0")}`)}const Z=ne(s.id_dosen);let ae=!1;s.absensi_aktif!==null&&s.absensi_aktif!==void 0&&(typeof s.absensi_aktif=="boolean"?ae=s.absensi_aktif:typeof s.absensi_aktif=="object"&&"Bool"in s.absensi_aktif&&(ae=s.absensi_aktif.Valid?s.absensi_aktif.Bool:!1)),Tt(s.id,x,a,h,Z,ae)},className:"px-2 py-1 text-xs rounded bg-primary-600 text-white hover:bg-primary-700",children:"Edit"})]}):e.jsx("span",{children:x||"-"})})]},s.id)})})]})})]}),e.jsxs("div",{className:"px-6 py-3 pb-6",children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Grades Overview"})}),e.jsx("div",{className:"border border-gray-300 rounded-lg overflow-hidden",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full border-collapse text-xs",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"bg-gray-50",children:[e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-left font-semibold text-gray-700 w-28",children:"NIM"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-left font-semibold text-gray-700 w-48",children:"Name"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-24",children:"Participation"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-24",children:"Project"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-24",children:"Quiz"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-24",children:"Assignment"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-24",children:"Midterm"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-24",children:"Final"}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-20",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{children:"Numeric"}),e.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(Auto)"})]})}),e.jsx("th",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-20",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{children:"Letter"}),e.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(Auto)"})]})}),e.jsx("th",{className:`border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-20 ${n?"border-r":""}`,children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx("span",{children:"Index"}),e.jsx("span",{className:"text-xs font-normal text-gray-500",children:"(Auto)"})]})}),n&&e.jsx("th",{className:"border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-700 w-16",children:"Action"})]})}),e.jsxs("tbody",{children:[z.map(s=>{const o=me(s)||{id:0,krs_id:null,aktivitas_partisipatif:null,hasil_proyek:null,quiz:null,tugas:null,uts:null,uas:null,nilai_angka:null,nilai_huruf:null,nilai_indeks:null},x=(()=>{if(typeof o.krs_id=="object"&&o.krs_id!==null&&"Int32"in o.krs_id){const f=o.krs_id;return f.Valid?f.Int32:null}return typeof o.krs_id=="number"?o.krs_id:o.krs_id??null})(),X=Se(s),a=o.id&&o.id>0?`id:${o.id}`:x!=null?`krs:${x}`:X!==null?`krs:${X}`:`nim:${s.nim}`,h=Dt.has(a),R=n&&!h,Z=o.id?Lt.has(o.id):!1,ae=Be[a]||o,L=f=>{const T=ae[f];return T==null?"":typeof T=="object"&&"Float64"in T?T.Valid?T.Float64:"":typeof T=="object"&&"String"in T?T.Valid?T.String:"":typeof T=="object"&&"Int32"in T?T.Valid?T.Int32:"":typeof T=="number"||typeof T=="string"?T:""},Ee=L("nilai_angka"),ge=Ee!==""?Ee:n&&ae?et(ae,$t):null,ze=typeof ge=="string"?Number(ge):ge,{huruf:ss,indeks:rs}=ze!=null?Ze(ze):{huruf:"",indeks:0},xt=L("nilai_huruf"),gt=xt!==""?xt:ss,ft=L("nilai_indeks"),mt=ft!==""?ft:rs;return e.jsxs("tr",{className:"hover:bg-gray-50",children:[e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 font-medium text-gray-900 w-28",children:s.nim}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-gray-900 w-48",children:s.nama}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center w-24",children:R?e.jsx("input",{type:"number",step:"0.1",value:L("aktivitas_partisipatif"),onChange:f=>_e(a,"aktivitas_partisipatif",f.target.value?parseFloat(f.target.value):null),className:"input-field text-xs w-full [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}):e.jsx("span",{className:"text-gray-600",children:(()=>{const f=L("aktivitas_partisipatif");return f!==""?f:"-"})()})}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center w-24",children:R?e.jsx("input",{type:"number",step:"0.1",value:L("hasil_proyek"),onChange:f=>_e(a,"hasil_proyek",f.target.value?parseFloat(f.target.value):null),className:"input-field text-xs w-full [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}):e.jsx("span",{className:"text-gray-600",children:(()=>{const f=L("hasil_proyek");return f!==""?f:"-"})()})}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center w-24",children:R?e.jsx("input",{type:"number",step:"0.1",value:L("quiz"),onChange:f=>_e(a,"quiz",f.target.value?parseFloat(f.target.value):null),className:"input-field text-xs w-full [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}):e.jsx("span",{className:"text-gray-600",children:(()=>{const f=L("quiz");return f!==""?f:"-"})()})}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center w-24",children:R?e.jsx("input",{type:"number",step:"0.1",value:L("tugas"),onChange:f=>_e(a,"tugas",f.target.value?parseFloat(f.target.value):null),className:"input-field text-xs w-full [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}):e.jsx("span",{className:"text-gray-600",children:(()=>{const f=L("tugas");return f!==""?f:"-"})()})}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center w-24",children:R?e.jsx("input",{type:"number",step:"0.1",value:L("uts"),onChange:f=>_e(a,"uts",f.target.value?parseFloat(f.target.value):null),className:"input-field text-xs w-full [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}):e.jsx("span",{className:"text-gray-600",children:(()=>{const f=L("uts");return f!==""?f:"-"})()})}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center w-24",children:R?e.jsx("input",{type:"number",step:"0.1",value:L("uas"),onChange:f=>_e(a,"uas",f.target.value?parseFloat(f.target.value):null),className:"input-field text-xs w-full [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}):e.jsx("span",{className:"text-gray-600",children:(()=>{const f=L("uas");return f!==""?f:"-"})()})}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-900 w-20",children:e.jsxs("div",{className:`px-2 py-1 rounded ${R?"bg-blue-50 text-blue-900":""}`,children:[e.jsx("span",{children:ge!==null&&ge!==""?ge:"-"}),R&&ge!==null&&ge!==""&&e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"âœ“"})]})}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center font-bold text-blue-600 w-20",children:e.jsxs("div",{className:`px-2 py-1 rounded ${R?"bg-blue-50":""}`,children:[e.jsx("span",{children:gt||"-"}),R&&gt&&e.jsx("span",{className:"text-xs ml-1",children:"âœ“"})]})}),e.jsx("td",{className:`border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-900 w-20 ${n?"border-r":""}`,children:e.jsxs("div",{className:`px-2 py-1 rounded ${R?"bg-blue-50 text-blue-900":""}`,children:[e.jsx("span",{children:mt||"-"}),R&&mt&&e.jsx("span",{className:"text-xs text-blue-600 ml-1",children:"âœ“"})]})}),n&&e.jsx("td",{className:"border-b border-gray-300 px-3 py-2 text-center",children:h?e.jsx("button",{onClick:()=>{it(T=>{const Ce=new Set(T);return Ce.delete(a),Ce});const f=me(s);f&&Ie(T=>({...T,[a]:f}))},className:"px-2 py-1 text-xs rounded bg-blue-600 text-white hover:bg-blue-700",children:"Edit"}):e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:()=>ot(a,o,s),disabled:Z,className:"px-2 py-1 text-xs rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:Z?"Saving...":"Save"}),e.jsx("button",{onClick:()=>{const f=me(s);Ie(f?T=>({...T,[a]:f}):T=>{const Ce={...T};return delete Ce[a],Ce}),it(T=>new Set([...T,a]))},disabled:Z,className:"px-2 py-1 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300 disabled:opacity-50",children:"Cancel"})]})})]},s.nim)}),e.jsxs("tr",{className:"bg-blue-50 font-bold",children:[e.jsxs("td",{colSpan:2,className:"border-r border-b border-gray-300 px-3 py-2 text-gray-900",children:["Component Weights",n&&e.jsx("div",{className:"text-xs font-normal text-gray-500 mt-1",children:"(Total must be 100%)"})]}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center text-blue-600 w-24",children:n?e.jsx("input",{type:"text",value:H.aktivitas_partisipatif,onChange:s=>je("bobot_partisipatif",s.target.value),className:"w-full px-2 py-1 text-center border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):`${H.aktivitas_partisipatif}%`}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center text-blue-600 w-24",children:n?e.jsx("input",{type:"text",value:H.hasil_proyek,onChange:s=>je("bobot_proyek",s.target.value),className:"w-full px-2 py-1 text-center border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):`${H.hasil_proyek}%`}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center text-blue-600 w-24",children:n?e.jsx("input",{type:"text",value:H.quiz,onChange:s=>je("bobot_kuis",s.target.value),className:"w-full px-2 py-1 text-center border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):`${H.quiz}%`}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center text-blue-600 w-24",children:n?e.jsx("input",{type:"text",value:H.tugas,onChange:s=>je("bobot_tugas",s.target.value),className:"w-full px-2 py-1 text-center border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):`${H.tugas}%`}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center text-blue-600 w-24",children:n?e.jsx("input",{type:"text",value:H.uts,onChange:s=>je("bobot_uts",s.target.value),className:"w-full px-2 py-1 text-center border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):`${H.uts}%`}),e.jsx("td",{className:"border-r border-b border-gray-300 px-3 py-2 text-center text-blue-600 w-24",children:n?e.jsx("input",{type:"text",value:H.uas,onChange:s=>je("bobot_uas",s.target.value),className:"w-full px-2 py-1 text-center border border-blue-300 rounded focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}):`${H.uas}%`}),e.jsxs("td",{colSpan:3,className:"border-r border-b border-gray-300 px-3 py-2 text-center font-semibold text-gray-900",children:[e.jsxs("div",{className:"text-blue-600",children:["Total: ",(H.aktivitas_partisipatif+H.hasil_proyek+H.quiz+H.tugas+H.uts+H.uas).toFixed(1),"%"]}),nt&&e.jsx("div",{className:"text-xs text-red-600 mt-1",children:nt})]}),e.jsx("td",{className:`border-b border-gray-300 px-3 py-2 text-center ${n?"":"hidden"}`,children:n&&e.jsx(e.Fragment,{children:Pt?e.jsx("button",{onClick:()=>{Rt()},className:"px-2 py-1 text-xs rounded bg-blue-600 text-white hover:bg-blue-700",children:"Edit"}):e.jsxs("div",{className:"flex gap-2 justify-center",children:[e.jsx("button",{onClick:()=>lt(),disabled:Re,className:"px-2 py-1 text-xs rounded bg-green-600 text-white hover:bg-green-700 disabled:opacity-50",children:Re?"Saving...":"Save"}),e.jsx("button",{onClick:Bt,disabled:Re,className:"px-2 py-1 text-xs rounded bg-gray-200 text-gray-700 hover:bg-gray-300 disabled:opacity-50",children:"Cancel"})]})})})]})]})]})})})]})]})})]})]})};export{Ds as default};
//# sourceMappingURL=ClassSummary-DJ0TJVu9.js.map
