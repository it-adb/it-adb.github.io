{"version":3,"file":"GradeInput-vI87Mtsc.js","sources":["../../src/pages/lecturer/GradeInput.tsx"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { Save, FileUp, CheckCircle2 } from 'lucide-react';\r\n\r\ntype ComponentWeights = {\r\n  attendance: number;\r\n  assignment: number;\r\n  midterm: number;\r\n  final: number;\r\n};\r\n\r\ninterface GradeRow {\r\n  studentId: string;\r\n  name: string;\r\n  attendance?: number;\r\n  assignment?: number;\r\n  midterm?: number;\r\n  final?: number;\r\n}\r\n\r\nconst initialWeights: ComponentWeights = {\r\n  attendance: 10,\r\n  assignment: 30,\r\n  midterm: 25,\r\n  final: 35,\r\n};\r\n\r\nconst GradeInput: React.FC = () => {\r\n  const [selectedClass, setSelectedClass] = useState('CLS-101');\r\n  const [weights, setWeights] = useState<ComponentWeights>(initialWeights);\r\n  const [rows, setRows] = useState<GradeRow[]>(\r\n    Array.from({ length: 10 }).map((_, i) => ({\r\n      studentId: `22010${(i + 1).toString().padStart(3, '0')}`,\r\n      name: `Student ${i + 1}`,\r\n      attendance: 100,\r\n      assignment: 80,\r\n      midterm: 75,\r\n      final: 85,\r\n    }))\r\n  );\r\n  const [uploaded, setUploaded] = useState(false);\r\n\r\n  const totalWeight = weights.attendance + weights.assignment + weights.midterm + weights.final;\r\n\r\n  const totals = useMemo(() => {\r\n    return rows.map(r => {\r\n      const total =\r\n        (r.attendance ?? 0) * (weights.attendance / 100) +\r\n        (r.assignment ?? 0) * (weights.assignment / 100) +\r\n        (r.midterm ?? 0) * (weights.midterm / 100) +\r\n        (r.final ?? 0) * (weights.final / 100);\r\n      return Math.round(total * 100) / 100;\r\n    });\r\n  }, [rows, weights]);\r\n\r\n  const onUpload = () => {\r\n    setUploaded(true);\r\n    setTimeout(() => setUploaded(false), 2000);\r\n  };\r\n\r\n  const updateWeight = (key: keyof ComponentWeights, value: number) => {\r\n    setWeights(prev => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const updateRow = (idx: number, key: keyof GradeRow, value: number) => {\r\n    setRows(prev => prev.map((r, i) => (i === idx ? { ...r, [key]: value } : r)));\r\n  };\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-bold text-gray-900\">Grade Input</h1>\r\n        <div className=\"text-sm text-gray-500\">Upload or input grades per class</div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <div className=\"card lg:col-span-2\">\r\n          <div className=\"flex items-center justify-between mb-4\">\r\n            <div>\r\n              <div className=\"font-semibold text-gray-900\">Class</div>\r\n              <div className=\"text-sm text-gray-500\">Select a class to input grades</div>\r\n            </div>\r\n            <select\r\n              className=\"border rounded-lg px-3 py-2\"\r\n              value={selectedClass}\r\n              onChange={(e) => setSelectedClass(e.target.value)}\r\n            >\r\n              <option value=\"CLS-101\">Database Systems (CS101)</option>\r\n              <option value=\"CLS-202\">Advanced Algorithms (CS202)</option>\r\n            </select>\r\n          </div>\r\n\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"min-w-full text-sm\">\r\n              <thead>\r\n                <tr className=\"text-left text-gray-500\">\r\n                  <th className=\"py-2 pr-4\">Student ID</th>\r\n                  <th className=\"py-2 pr-4\">Name</th>\r\n                  <th className=\"py-2 pr-4\">Attendance</th>\r\n                  <th className=\"py-2 pr-4\">Assignments</th>\r\n                  <th className=\"py-2 pr-4\">UTS</th>\r\n                  <th className=\"py-2 pr-4\">UAS</th>\r\n                  <th className=\"py-2 pr-4\">Total</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {rows.map((r, idx) => (\r\n                  <tr className=\"border-t\" key={r.studentId}>\r\n                    <td className=\"py-2 pr-4\">{r.studentId}</td>\r\n                    <td className=\"py-2 pr-4\">{r.name}</td>\r\n                    {(['attendance', 'assignment', 'midterm', 'final'] as const).map((k) => (\r\n                      <td key={k} className=\"py-2 pr-4\">\r\n                        <input\r\n                          type=\"number\"\r\n                          min={0}\r\n                          max={100}\r\n                          value={r[k] ?? 0}\r\n                          onChange={(e) => updateRow(idx, k, Number(e.target.value))}\r\n                          className=\"w-24 border rounded px-2 py-1\"\r\n                        />\r\n                      </td>\r\n                    ))}\r\n                    <td className=\"py-2 pr-4 font-medium text-gray-900\">{totals[idx]}</td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n\r\n          <div className=\"mt-4 flex items-center space-x-3\">\r\n            <button className=\"btn btn-primary inline-flex items-center\">\r\n              <Save className=\"h-4 w-4 mr-2\" /> Save Draft\r\n            </button>\r\n            <button className=\"btn inline-flex items-center\">\r\n              <CheckCircle2 className=\"h-4 w-4 mr-2\" /> Submit Final Grades\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"space-y-6\">\r\n          <div className=\"card\">\r\n            <div className=\"font-semibold text-gray-900 mb-2\">Upload from File</div>\r\n            <p className=\"text-sm text-gray-600 mb-3\">Upload CSV/XLSX template to fill grades in bulk.</p>\r\n            <button onClick={onUpload} className=\"btn inline-flex items-center\">\r\n              <FileUp className=\"h-4 w-4 mr-2\" /> Choose File\r\n            </button>\r\n            {uploaded && (\r\n              <div className=\"mt-3 text-green-600 text-sm inline-flex items-center\">\r\n                <CheckCircle2 className=\"h-4 w-4 mr-1\" /> File processed successfully\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          <div className=\"card\">\r\n            <div className=\"font-semibold text-gray-900 mb-2\">Evaluation Components</div>\r\n            <div className=\"space-y-3\">\r\n              {(\r\n                [\r\n                  { key: 'attendance', label: 'Attendance' },\r\n                  { key: 'assignment', label: 'Assignments' },\r\n                  { key: 'midterm', label: 'UTS' },\r\n                  { key: 'final', label: 'UAS' },\r\n                ] as const\r\n              ).map(({ key, label }) => (\r\n                <div key={key} className=\"flex items-center justify-between\">\r\n                  <label className=\"text-sm text-gray-700\">{label}</label>\r\n                  <div className=\"flex items-center\">\r\n                    <input\r\n                      type=\"number\"\r\n                      min={0}\r\n                      max={100}\r\n                      value={weights[key]}\r\n                      onChange={(e) => updateWeight(key, Number(e.target.value))}\r\n                      className=\"w-20 border rounded px-2 py-1 mr-2 text-right\"\r\n                    />\r\n                    <span className=\"text-gray-500 text-sm\">%</span>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n              <div className=\"pt-2 text-sm text-gray-600\">Total: <span className={totalWeight === 100 ? 'text-green-600 font-medium' : 'text-red-600 font-medium'}>{totalWeight}%</span></div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default GradeInput;\r\n"],"names":["initialWeights","GradeInput","selectedClass","setSelectedClass","useState","weights","setWeights","rows","setRows","_","i","uploaded","setUploaded","totalWeight","totals","useMemo","r","total","onUpload","updateWeight","key","value","prev","updateRow","idx","jsxs","jsx","e","k","Save","CheckCircle2","FileUp","label"],"mappings":"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"}